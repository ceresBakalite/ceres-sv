/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2018 - 2020 Alexander Munro
*/
window.ceres={},(()=>{window.rsc={},(()=>{this.reference=1,this.notify=2,this.warn=3,this.default=98,this.error=99,this.bArray=['true','1','enable','confirm','grant','active','on','yes'],this.isWindows=-1!=navigator.appVersion.indexOf('Win'),this.clearElement=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},this.fileName=e=>e.substring(e.lastIndexOf('/')+1,e.length),this.fileType=(e,t)=>e.substring(e.lastIndexOf('.')+1,e.length).toUpperCase()===t.toUpperCase(),this.srcOpen=e=>window.open(e.element.getAttribute('src'),e.type),this.isString=e=>'[object String]'==Object.prototype.toString.call(e),this.newline=this.isWindows?'\r\n':'\n',this.bool=this.bArray.map((e=>e.trim().toUpperCase())),this.composeElement=(e,t)=>{if(this.ignore(e.type))return;const s=['LINK','SCRIPT','STYLE'].includes(e.type.trim().toUpperCase())?document.head:e.parent||document.body,n=document.createElement(e.type);Object.entries(t).forEach((([e,t])=>{n.setAttribute(e,t)})),e.markup&&n.insertAdjacentHTML('afterbegin',e.markup),s.appendChild(n)},this.setSwipe=(e,t,s)=>{e.act||(e.act=80),e.node.addEventListener('touchstart',(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener('touchmove',(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener('touchend',(n=>{e.end=n.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(s.action=e.start>e.end,t.call(this,s))}),{passive:!0})},this.ignore=e=>null===e||'undefined'==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e),this.getBoolean=e=>!0===e||!1===e?atr:!(this.ignore(e)||!this.isString(e))&&this.bool.includes(e.trim().toUpperCase()),this.getUniqueId=e=>{e.name||(e.name='n'),e.range||(e.range=100);for(;document.getElementById(e.el=e.name+Math.floor(Math.random()*e.range)););return e.el},this.removeDuplcates=(e,t)=>{const s=JSON.stringify,n=[...new Map(e.map((e=>[s(e),e]))).values()];return t?n.sort(((e,t)=>e-t)):n},this.softSanitize=(e,t='text/html')=>this.ignore(e)?null:(new DOMParser).parseFromString(e,t).documentElement.textContent.replace(/</g,'&lt;'),this.inspect=e=>{const t=e=>{const t=e.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(t),e.alert&&alert(t)},s={[this.notify]:()=>{e.logtrace&&console.info(e.notification)},[this.warn]:()=>{e.logtrace&&console.warn(e.notification)},[this.reference]:()=>{e.logtrace&&console.log('Reference: '+this.newline+this.newline+e.reference)},[this.error]:()=>t({notification:e.notification,alert:e.logtrace}),[this.default]:()=>t({notification:'Unhandled exception'})};s[e.type]()||s[this.default]},this.getProperties=(e={},t='')=>{for(let s in e)t+=s+': '+e[s]+', ';return t.replace(/, +$/g,'')}}).call(window.rsc),window,document,window.customElements.define('ceres-sv',class extends HTMLElement{async connectedCallback(){ceres.getImage=e=>rsc.srcOpen({element:e,type:'image'}),ceres.getSlide=e=>s.get.slide({node:e});const e=this,t={},s={};e.src=e.getAttribute('src'),t.defaultCSS='https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css',t.src=rsc.ignore(e.src)?null:e.src.trim(),t.css=e.getAttribute('css')||t.defaultCSS,t.srcRoot=!rsc.ignore(t.src),t.commaCodes=/,|&comma;|&#x2c;|&#44;|U+0002C/g,t.commaSymbol='_&c',t.shadowStyle='',t.node={},t.slide=1,t.cssRoot=rsc.removeDuplcates(t.css.trim().replace(/,/gi,';').replace(/;+$/g,'').replace(/[^\x00-\xFF]| /g,'').split(';')),function(){const n=e.tagName.toLocaleLowerCase(),o=new Map,r={markup:'Image list markup ',element:'The element attributes ',tagSearch:'The '+n+' src attribute url is unavailable and there is no \'local\' elementId. Looking for the first occurance of a <template> or <noscript> tagname',properties:'Error: Unable to find the '+n+' document element',list:'Error: Unable to find either the '+n+' document element nor the fallback local template elements',template:'Error: Unable to find the local fallback template element when searching the document body',cache:'Warning: cache response status '};Object.freeze(r),this.instance={hasContent:()=>s.content.properties()?s.content.textList()?s.content.textArray():rsc.inspect({type:rsc.error,notification:r.list}):rsc.inspect({type:rsc.error,notification:r.properties}),showContent:()=>{s.get.shadow(),s.get.slide({shadow:t.shadow}),s.get.view()}},this.content={properties:()=>{const s=['color','font','padding','top','bottom'],o=['sub','sur'];return(()=>{if(rsc.ignore(e))return!1;e.id=rsc.getUniqueId({name:n,range:1e3});const a=n=>{const r=e.getAttribute(n),a={nub:!rsc.getBoolean(r),fade:!rsc.getBoolean(r),cache:!rsc.getBoolean(r),trace:rsc.getBoolean(r),loading:r||'auto',local:r||!1,zoom:!!rsc.ignore(r)||rsc.getBoolean(r),delay:Number.isInteger(parseInt(r,10))?parseInt(r,10):250};if(a.hasOwnProperty(n))return a[n];if(rsc.ignore(r))return!1;const i=r.replace(/\s+:\s+/g,':').split(',').map((e=>e.trim())),c='sur'!=n?/.subtitle[^&]*?}/i:/.surtitle[^&]*?}/i,l=i[0];if(!Number.isInteger(parseInt(l))){if(!rsc.getBoolean(l))return!1;i.length>1&&i.shift()}return'auto'==n?(t.node.autocycle=Number.isInteger(parseInt(i[0]))?parseInt(i[0]):10,t.node.autopause=Number.isInteger(parseInt(i[1]))?parseInt(i[1]):3e3,t.node.autocancel=t.node.autocycle>-1,t.node.fade=t.node.autopause>400,t.node.nub='false',!0):(o.includes(n)&&(0!=i.length&&i.forEach((e=>{s.includes(e.split(':')[0])&&(e=>{const s=Boolean(e.match(/color:/i))?/color[^&]*?;/i:Boolean(e.match(/font:/i))?/font[^&]*?;/i:Boolean(e.match(/padding:/i))?/padding[^&]*?;/i:Boolean(e.match(/top:/i))?/top[^&]*?;/i:Boolean(e.match(/bottom:/i))?/bottom[^&]*?;/i:null;if(!rsc.ignore(s)){const n=String(t.shadowStyle.match(c));if(n){const o=n.replace(s,e.replace(/(\s+)?:(\s+)?/g,':')+';');o&&(t.shadowStyle=t.shadowStyle.replace(n,o))}}})(e)}))),!0)};return t.node.nub=a('nub'),t.node.fade=a('fade'),t.node.cache=a('cache'),t.node.trace=a('trace'),t.node.loading=a('loading'),t.node.local=a('local'),t.node.zoom=a('zoom'),t.node.delay=a('delay'),t.node.sur=a('sur'),t.node.sub=a('sub'),t.node.auto=a('auto'),Object.freeze(t.node),t.template=(()=>{if(t.srcRoot)return'undefined';let e=document.getElementById(t.node.local)||null;return rsc.ignore(e)&&(rsc.inspect({type:rsc.notify,notification:r.tagSearch,logtrace:t.node.trace}),e=document.getElementsByTagName('template')[0]||document.getElementsByTagName('noscript')[0]),e||'undefined'})(),!0})()},textList:()=>t.srcRoot||t.template,textArray:()=>(t.imageArray=null,rsc.inspect({type:rsc.notify,notification:r.element+'['+e.id+'] '+rsc.getProperties(t.node),logtrace:t.node.trace}),(()=>{const n=t.srcRoot?e.textContent.replace(/\s*\n\s*/g,'\n')||null:(()=>{const e='TEMPLATE'!=t.template.tagName?t.template.textContent:t.template.content.textContent;return rsc.ignore(e)?rsc.inspect({type:rsc.error,notification:r.template+' ['+t.node.local+']'}):s.parseText(e).replace(/\s*\n\s*/g,'\n')})();return!rsc.ignore(n)&&(rsc.inspect({type:rsc.notify,notification:r.markup+'['+(t.srcRoot?e.id+' - '+rsc.fileName(t.src):t.node.local+' - local template')+']'+rsc.newline+n.replaceAll(t.commaSymbol,'&comma;').replace(/&lt;/g,'<').replace(/&gt;/g,'>'),logtrace:t.node.trace}),t.imageArray=n?n.trim().split('\n'):null,!rsc.ignore(t.imageArray))})())},this.get={shadow:()=>{const n=document.querySelector('#'+e.id);rsc.clearElement(n),n.attachShadow({mode:'open'}),t.shadow=n.shadowRoot,s.compose.style(),s.compose.body(),t.node.auto||rsc.setSwipe({node:t.shadow.querySelector('div.slideview-body > div.slideview-image')},(e=>{const n=e.action?e.right:e.left;t.slide=t.slide+=n,s.get.slide({shadow:t.shadow})}),{left:-1,right:1})},slide:e=>{rsc.ignore(e.shadow)&&(e.shadow=rsc.ignore(e.node)?t.shadow:(e=>{const s=e.getRootNode().host,n=document.querySelector('#'+s.id).shadowRoot,r=n.querySelector('div.slideview-image > div.active');return t.slide=Number.parseInt(r.id.replace('img',''),10),o.set('left',t.slide-1),o.set('right',t.slide+1),o.set('nub',Number.parseInt(e.id.replace('nub',''),10)),t.slide=o.get(e.className),n})(e.node));const s=e.shadow.querySelectorAll('div.slideview-image > div.slide');t.slide=rsc.ignore(e.autoslide)?t.slide<1?s.length:t.slide>s.length?1:t.slide:e.autoslide;const n=t.slide-1;if(rsc.ignore(s[n]))return;const r=e.shadow.querySelector('div.slideview-image > div.active');r&&r.classList.replace('active','none'),s[n].classList.replace('none','active');const a=e.shadow.querySelector('div.slideview-nub > span.enabled');a&&(a.className='nub'),e.shadow.querySelectorAll('div.slideview-nub > span.nub')[n].className='nub enabled'},view:()=>{const e=()=>{const e=t.shadow.querySelectorAll('div.slideview-image > div.slide'),n=t.node.autocancel&&t.node.autocycle>-1?t.imageArray.length*t.node.autocycle:0;let o=0,r=1;const a=setInterval((()=>{r=r<1?e.length:r>e.length?1:r,(t.node.autocancel?o===n||(r++,o++,0):(r++,0))&&clearInterval(a),s.get.slide({autoslide:r-1})}),t.node.autopause)};setTimeout((()=>{t.node.auto&&setTimeout((()=>{e()}),t.node.delay),s.setDisplay.show()}),t.node.delay),t.node.cache&&(()=>{if(!window.hasOwnProperty('caches'))return;const e=t.srcRoot?t.src.split():Array.from(''),s=n+'-cache';rsc.removeDuplcates(e.concat(t.cssRoot.concat([import.meta.url]))).forEach((e=>{fetch(e).then((n=>(n.ok||rsc.inspect({type:rsc.warn,notification:r.cache+'['+n.status+'] - '+e,logtrace:t.node.trace}),caches.open(s).then((t=>t.put(e,n))))))}))})(),rsc.inspect({type:rsc.notify,notification:t.shadow,logtrace:t.node.trace})}},this.compose={style:()=>{const e=document.createElement('style');e.className='slideview-style',e.insertAdjacentHTML('beforeend',t.shadowStyle),t.shadow.appendChild(e)},body:()=>{const e=()=>rsc.ignore(d.ar[1])?null:d.ar[1].trim().replaceAll(t.commaSymbol,','),n=()=>rsc.ignore(d.ar[2])?d.index+' / '+t.imageArray.length:d.ar[2].trim().replaceAll(t.commaSymbol,','),o=s.getClassList('slide'),r=t.node.zoom?'ceres.getImage(this);':'javascript:void(0);',a='ceres.getSlide(this)',i=document.createElement('div');i.className='slideview-body';const c=document.createElement('div');c.className='slideview-image',i.appendChild(c);const l=document.createElement('div');l.className=s.getClassList('slideview-nub'),i.appendChild(l);const d={index:0,ar:[]};for(let s in t.imageArray){d.ar=t.imageArray[s].split(',');const a=document.createElement('div');a.className=o,a.id='img'+ ++d.index,c.appendChild(a),t.node.sur&&rsc.composeElement({type:'div',parent:a,markup:t.node.sur?n():null},{class:'surtitle fade'}),rsc.composeElement({type:'img',parent:a},{class:'slide',onclick:r,src:rsc.ignore(d.ar[0])?null:d.ar[0].trim(),alt:e(),loading:Boolean(t.node.loading.match(/lazy|eager|auto/i))?t.node.loading:'auto'}),t.node.sub&&rsc.composeElement({type:'div',parent:a,markup:t.node.sub?e():null},{class:'subtitle fade'})}rsc.composeElement({type:'a',parent:c,markup:'&#10094;'},{class:s.getClassList('left'),onclick:a}),rsc.composeElement({type:'a',parent:c,markup:'&#10095;'},{class:s.getClassList('right'),onclick:a}),t.imageArray.forEach(((e,t)=>{rsc.composeElement({type:'span',parent:l},{id:'nub'+t,class:'nub',onclick:a})})),t.shadow.appendChild(i)}},this.setDisplay={hide:()=>{e.style.visibility='hidden',e.style.display='none'},show:()=>{e.style.removeProperty('display'),e.style.removeProperty('visibility'),0===e.style.length&&e.removeAttribute('style')}},this.getClassList=e=>'slide'!=e?t.node.nub&&t.node.auto?e+=' none':e:(t.node.zoom&&(e+=' zoom'),t.node.fade&&(e+=' fade'),e+' none'),this.getFileType=e=>rsc.fileType(t.src,'json')?s.parseJSON(e):rsc.fileType(t.src,'csv')?s.parseJSON(s.parseCSV(e,{json:!0,nodes:['url','sub','sur']})):e,this.parseText=e=>rsc.softSanitize(e.replace(/\\,|&comma;|&#x2c;|&#44;|U+0002C/g,t.commaSymbol).replace(/^\s*?<template(.*?)>|<\/template>\s*?$/,'')),this.parseJSON=e=>{const s=JSON.parse(e);let n='';return s.forEach((e=>{n+=e.url+(e.sub?', '+e.sub.replace(t.commaCodes,t.commaSymbol):'')+(e.sur?', '+e.sur.replace(t.commaCodes,t.commaSymbol):'')+'\n'})),n},this.parseCSV=(e,s={})=>{const n=e.split('\n'),o=new Array(n.length),r='_&grp;',a=new RegExp('_&grp;s*?$','g'),i=/"[^]*?",|"[^]*?"$/gm,c=()=>{const e=/,\s*?$/;let t='';return o.forEach((n=>{rsc.ignore(n)||(t+='{ ',n.split(',').forEach(((e,n)=>{t+=(e=>s.nodes[e]?'"'+s.nodes[e]+'": ':'"node'+e+'1": ')(n)+'"'+e.trim().replace(/"/g,'\\"')+'", '})),t=t.replace(e,'')+' },\n')})),'['+t.replace(e,'')+']'};return n.forEach((e=>{let s=String(e);[...s.matchAll(i)].forEach((e=>{let n=(e=>{let s=String(e).replace(/"\s*?$|"\s*?,\s*?$/,'').replace(/^\s*?"/,'');return s=s.replace(/""/g,'"'),s.replace(t.commaCodes,t.commaSymbol)+r})(e);s=s.replace(e,n)})),o.push((e=>{let t=e.replace(a,'');return t=t.replaceAll(r,', '),t.replace(/(?!\s)[,](?!\s)/g,', ')})(s))})),s.json||s.nodes?c():o.join('\n')},Object.seal(s)}.call(s),s.setDisplay.hide(),t.srcRoot&&e.insertAdjacentHTML('afterbegin',s.parseText(s.getFileType(await(await fetch(t.src)).text())));for(let e of t.cssRoot)t.shadowStyle+=rsc.softSanitize(await(await fetch(e)).text());s.instance.hasContent()&&s.instance.showContent()}})}).call(window.ceres);