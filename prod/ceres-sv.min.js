/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2018 - 2020 Alexander Munro
*/
window.ceres={},function(){const t={};(function(){this.clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},this.fileName=function(t){return t.substring(t.lastIndexOf('/')+1,t.length)},this.fileType=function(t,e){return t.substring(t.lastIndexOf('.')+1,t.length).toUpperCase()===e.toUpperCase()},this.srcOpen=function(t){window.open(t.element.getAttribute('src'),t.type)},this.isString=function(t){return'[object String]'==Object.prototype.toString.call(t)},this.composeElement=function(t,e){if(!t.type)return;const n=['LINK','SCRIPT','STYLE'].includes(t.type.trim().toUpperCase())?document.head:t.parent||document.body,i=document.createElement(t.type);Object.entries(e).forEach((([t,e])=>{i.setAttribute(t,e)})),t.markup&&i.insertAdjacentHTML('afterbegin',t.markup),n.appendChild(i)},this.setSwipe=function(t,e,n){t.act||(t.act=80),t.node.addEventListener('touchstart',(e=>{t.start=e.changedTouches[0].screenX}),{passive:!0}),t.node.addEventListener('touchmove',(t=>{t.preventDefault()}),{passive:!0}),t.node.addEventListener('touchend',(i=>{t.end=i.changedTouches[0].screenX,Math.abs(t.start-t.end)>t.act&&(n.action=t.start>t.end,e.call(this,n))}),{passive:!0})},this.ignore=function(t){return null===t||'undefined'==t||(this.isString(t)?0===t.length||!t.trim():Array.isArray(t)?0===t.length:t&&t.constructor===Object?0===Object.keys(t).length:!t)},this.getBoolean=function(t){return!0===t||!1===t?atr:!(this.ignore(t)||!this.isString(t))&&this.attrib.bool.includes(t.trim().toUpperCase())},this.getUniqueId=function(t){t.name||(t.name='n'),t.range||(t.range=100);for(;document.getElementById(t.el=t.name+Math.floor(Math.random()*t.range)););return t.el},this.recursiveReplace=function(t,e,n){return t.replace(e,(function(t){return n[t]}))},this.removeDuplcates=function(t,e){const n=JSON.stringify,i=[...new Map(t.map((t=>[n(t),t]))).values()];return e?i.sort(((t,e)=>t-e)):i},this.sanitizeText=function(e,n='text/html'){if(t.ignore(e))return;return(new DOMParser).parseFromString(e,n).body.textContent},this.inspect=function(t){const e=function(t){const e=t.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(e),t.alert&&alert(e)},n={[this.attrib.notify]:function(){t.logtrace&&console.info(t.notification)},[this.attrib.warn]:function(){t.logtrace&&console.warn(t.notification)},[this.attrib.reference]:function(){t.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+t.reference)},[this.attrib.error]:function(){e({notification:t.notification,alert:t.logtrace})},[this.attrib.default]:function(){e({notification:'Unhandled exception'})}};n[t.type]()||n[this.attrib.default]},this.getProperties=function(t={},e=''){for(let n in t)e+=n+': '+t[n]+', ';return e.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],isWindows:-1!=navigator.appVersion.indexOf('Win'),get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((t=>t.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(t),window,document,window.customElements.define('ceres-sv',class extends HTMLElement{async connectedCallback(){ceres.getImage=function(e){t.srcOpen({element:e,type:'image'})},ceres.getSlide=function(t){i.get.slide({node:t})};const e=this,n={},i={};e.src=e.getAttribute('src'),n.defaultCSS='https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css',n.src=t.ignore(e.src)?null:e.src.trim(),n.css=e.getAttribute('css')||n.defaultCSS,n.srcRoot=!t.ignore(n.src),n.cssRoot=t.removeDuplcates(n.css.trim().replace(/,/gi,';').replace(/;+$/g,'').replace(/[^\x00-\xFF]| /g,'').split(';')),n.commaCodes=/,|&comma;|&#x2c;|&#44;|U+0002C/g,n.commaSymbol='_&c',n.shadowStyle='',n.attrib={},n.slide=1,function(){const r=e.tagName.toLocaleLowerCase(),o=new Map,a={markup:'Image list markup ',element:'The element attributes ',tagSearch:'The '+r+' src attribute url is unavailable and there is no \'local\' elementId. Looking for the first occurance of a <template> or <noscript> tagname',properties:'Error: Unable to find the '+r+' document element',list:'Error: Unable to find either the '+r+' document element nor the fallback template elements',template:'Error: Unable to find the fallback template element when searching the document body',cache:'Warning: cache response status '};Object.freeze(a),this.node={hasContent:function(){return i.content.properties()?i.content.textList()?i.content.textArray():t.inspect({type:t.attrib.error,notification:a.list}):t.inspect({type:t.attrib.error,notification:a.properties})},showContent:function(){i.get.shadow(),i.get.slide({shadow:n.shadow}),i.get.view()}},this.content={properties:function(){const i=['nub','sub','sur','zoom','cache','trace','delay','local','fade','auto','loading'],o=['color','font','padding','top','bottom'],s=function(e){return!t.getBoolean(e)},c=function(e){return!t.getBoolean(e)},l=function(e){return!t.getBoolean(e)},u=function(e){return!!t.ignore(e)||t.getBoolean(e)},d=function(e){return t.getBoolean(e)},m=function(t){return Number.isInteger(parseInt(t,10))?parseInt(t,10):250},p=function(e){return t.ignore(e)?'auto':e},g=function(e){return!t.ignore(e)&&e};return function(){if(t.ignore(e))return!1;e.id=t.getUniqueId({name:r,range:1e3});const f=function(r){const a=e.getAttribute(r);if(t.ignore(a))return!1;const s=a.replace(/\s+:\s+/g,':').split(',').map((t=>t.trim())),c='sur'!=r?/.subtitle[^&]*?}/i:/.surtitle[^&]*?}/i,l=s[0];if(!Number.isInteger(parseInt(l))){if(!t.getBoolean(l))return!1;s.length>1&&s.shift()}return'auto'==r?(n.attrib.autocycle=Number.isInteger(parseInt(s[0]))?parseInt(s[0]):10,n.attrib.autopause=Number.isInteger(parseInt(s[1]))?parseInt(s[1]):3e3,n.attrib.autocancel=n.attrib.autocycle>-1,n.attrib.fade=n.attrib.autopause>400,n.attrib.nub='false',!0):(i.includes(r)&&(0!=s.length&&s.forEach((e=>{o.includes(e.split(':')[0])&&function(e){const i=Boolean(e.match(/color:/i))?/color[^&]*?;/i:Boolean(e.match(/font:/i))?/font[^&]*?;/i:Boolean(e.match(/padding:/i))?/padding[^&]*?;/i:Boolean(e.match(/top:/i))?/top[^&]*?;/i:Boolean(e.match(/bottom:/i))?/bottom[^&]*?;/i:null;if(!t.ignore(i)){const t=String(n.shadowStyle.match(c));if(t){const r=t.replace(i,e.replace(/(\s+)?:(\s+)?/g,':')+';');r&&(n.shadowStyle=n.shadowStyle.replace(t,r))}}}(e)}))),!0)};return n.attrib.nub=s(e.getAttribute('nub')),n.attrib.fade=c(e.getAttribute('fade')),n.attrib.zoom=u(e.getAttribute('zoom')),n.attrib.cache=l(e.getAttribute('cache')),n.attrib.trace=d(e.getAttribute('trace')),n.attrib.delay=m(e.getAttribute('delay')),n.attrib.loading=p(e.getAttribute('loading')),n.attrib.local=g(e.getAttribute('local')),n.attrib.sur=f('sur'),n.attrib.sub=f('sub'),n.attrib.auto=f('auto'),Object.freeze(n.attrib),n.template=function(){if(n.srcRoot)return'undefined';let e=n.attrib.local?document.getElementById(n.attrib.local):null;return t.ignore(e)&&(t.inspect({type:t.attrib.notify,notification:a.tagSearch,logtrace:n.attrib.trace}),e=document.getElementsByTagName('template')[0]||document.getElementsByTagName('noscript')[0]),t.ignore(e)?'undefined':e}(),!0}()},textList:function(){return n.srcRoot||n.template},textArray:function(){return n.imageArray=null,t.inspect({type:t.attrib.notify,notification:a.element+'['+e.id+'] '+t.getProperties(n.attrib),logtrace:n.attrib.trace}),function(){const r=n.srcRoot?function(){const n=e.textContent;return t.ignore(n)?null:n}():function(){const e='TEMPLATE'!=n.template.tagName?n.template.textContent:n.template.content.textContent;return t.ignore(e)?t.inspect({type:t.attrib.error,notification:a.template+' ['+n.attrib.local+']'}):i.parseText(e)}();return t.ignore(r)||(t.inspect({type:t.attrib.notify,notification:a.markup+'['+(n.srcRoot?e.id+' - '+t.fileName(n.src):n.attrib.local+' - template')+']'+t.attrib.newline+r.replaceAll(n.commaSymbol,'&comma;'),logtrace:n.attrib.trace}),n.imageArray=r?r.trim().split('\n'):null),!t.ignore(n.imageArray)}()}},this.get={shadow:function(){const r=document.querySelector('#'+e.id);t.clearElement(r),r.attachShadow({mode:'open'}),n.shadow=r.shadowRoot,i.compose.style(),i.compose.body(),n.attrib.auto||t.setSwipe({node:n.shadow.querySelector('div.slideview-body > div.slideview-image')},(function(t){const e=t.action?t.right:t.left;n.slide=n.slide+=e,i.get.slide({shadow:n.shadow})}),{left:-1,right:1})},slide:function(e){t.ignore(e.shadow)&&(e.shadow=t.ignore(e.node)?n.shadow:function(t){const e=t.getRootNode().host,i=document.querySelector('#'+e.id).shadowRoot,r=i.querySelector('div.slideview-image > div.active');return n.slide=Number.parseInt(r.id.replace('img',''),10),o.set('left',n.slide-1),o.set('right',n.slide+1),o.set('nub',Number.parseInt(t.id.replace('nub',''),10)),n.slide=o.get(t.className),i}(e.node));const i=e.shadow.querySelectorAll('div.slideview-image > div.slide');n.slide=t.ignore(e.autoslide)?n.slide<1?i.length:n.slide>i.length?1:n.slide:e.autoslide;const r=n.slide-1;if(t.ignore(i[r]))return;const a=e.shadow.querySelector('div.slideview-image > div.active');a&&a.classList.replace('active','none'),i[r].classList.replace('none','active');const s=e.shadow.querySelector('div.slideview-nub > span.enabled');s&&(s.className='nub'),e.shadow.querySelectorAll('div.slideview-nub > span.nub')[r].className='nub enabled'},view:function(){const e=function(){const t=n.shadow.querySelectorAll('div.slideview-image > div.slide'),e=n.attrib.autocancel&&n.attrib.autocycle>-1?n.imageArray.length*n.attrib.autocycle:0;let r=0,o=1;const a=setInterval((function(){o=o<1?t.length:o>t.length?1:o,(n.attrib.autocancel?r===e||(o++,r++,0):(o++,0))&&clearInterval(a),i.get.slide({autoslide:o-1})}),n.attrib.autopause)};setTimeout((function(){n.attrib.auto&&setTimeout((function(){e()}),n.attrib.delay),i.setDisplay.show()}),n.attrib.delay),n.attrib.cache&&function(){if(!('caches'in window))return;const e=n.srcRoot?n.src.split():Array.from(''),i=r+'-cache';t.removeDuplcates(e.concat(n.cssRoot.concat([t.attrib.metaUrl]))).forEach((e=>{fetch(e).then((r=>(r.ok||t.inspect({type:t.attrib.warn,notification:a.cache+'['+r.status+'] - '+e,logtrace:n.attrib.trace}),caches.open(i).then((t=>t.put(e,r))))))}))}(),t.inspect({type:t.attrib.notify,notification:n.shadow,logtrace:n.attrib.trace})}},this.compose={href:'ceres.getSlide(this)',style:function(){const t=document.createElement('style');t.className='slideview-style',t.insertAdjacentHTML('beforeend',n.shadowStyle),n.shadow.appendChild(t)},body:function(){const e=n.attrib.zoom?'ceres.getImage(this);':'javascript:void(0);',r=i.getClassList('slide'),o=function(){return t.ignore(d[2])?u+' / '+n.imageArray.length:d[2].trim().replaceAll(n.commaSymbol,',')},a=function(){return t.ignore(d[1])?null:d[1].trim().replaceAll(n.commaSymbol,',')},s=document.createElement('div');s.className='slideview-body';const c=document.createElement('div');c.className='slideview-image',s.appendChild(c);const l=document.createElement('div');l.className=i.getClassList('slideview-nub'),s.appendChild(l);let u=0;for(let i in n.imageArray){var d=n.imageArray[i].split(',');const s=document.createElement('div');s.className=r,s.id='img'+ ++u,c.appendChild(s),n.attrib.sur&&t.composeElement({type:'div',parent:s,markup:n.attrib.sur?o():null},{class:'surtitle fade'}),t.composeElement({type:'img',parent:s},{class:'slide',onclick:e,src:t.ignore(d[0])?null:d[0].trim(),alt:a(),loading:Boolean(n.attrib.loading.match(/lazy|eager|auto/i))?n.attrib.loading:'auto'}),n.attrib.sub&&t.composeElement({type:'div',parent:s,markup:n.attrib.sub?a():null},{class:'subtitle fade'})}t.composeElement({type:'a',parent:c,markup:'&#10094;'},{class:i.getClassList('left'),onclick:this.href}),t.composeElement({type:'a',parent:c,markup:'&#10095;'},{class:i.getClassList('right'),onclick:this.href}),n.imageArray.forEach(((e,n)=>{t.composeElement({type:'span',parent:l},{id:'nub'+n,class:'nub',onclick:this.href})})),n.shadow.appendChild(s)}},this.setDisplay={hide:function(){e.style.visibility='hidden',e.style.display='none'},show:function(){e.style.removeProperty('display'),e.style.removeProperty('visibility'),0===e.style.length&&e.removeAttribute('style')}},this.getClassList=function(t){return'slide'!=t?n.attrib.nub&&n.attrib.auto?t+=' none':t:(n.attrib.zoom&&(t+=' zoom'),n.attrib.fade&&(t+=' fade'),t+' none')},this.getFileType=function(e){return t.fileType(n.src,'json')?i.parseJSON(e):t.fileType(n.src,'csv')?i.parseJSON(i.parseCSV(e,{json:!0,nodes:['url','sub','sur']})):e},this.parseText=function(e){return t.sanitizeText(e.replace(/\\,|&comma;|&#x2c;|&#44;|U+0002C/g,n.commaSymbol).replace(/^\s*?<template(.*?)>|<\/template>\s*?$/,''))},this.parseJSON=function(t){const e=JSON.parse(t);let i='';return e.forEach((t=>{i+=t.url+(t.sub?', '+t.sub.replace(n.commaCodes,n.commaSymbol):'')+(t.sur?', '+t.sur.replace(n.commaCodes,n.commaSymbol):'')+'\n'})),i},this.parseCSV=function(e,i={}){const r=e.split('\n'),o=new Array(r.length),a='_&grp;',s=/"[^]*?",|"[^]*?"$/gm,c=new RegExp('_&grp;s*?$','g'),l=function(){const e=/,\s*?$/;let n='';return o.forEach((r=>{t.ignore(r)||(n+='{ ',r.split(',').forEach(((t,e)=>{n+=function(t){return i.nodes[t]?'"'+i.nodes[t]+'": ':'"node'+t+'1": '}(e)+'"'+t.trim().replace(/"/g,'\\"')+'", '})),n=n.replace(e,'')+' },\n')})),'['+n.replace(e,'')+']'};return r.forEach((t=>{let e=String(t);[...e.matchAll(s)].forEach((t=>{let i=function(t){let e=String(t).replace(/"\s*?$|"\s*?,\s*?$/,'').replace(/^\s*?"/,'');return e=e.replace(/""/g,'"'),e.replace(n.commaCodes,n.commaSymbol)+a}(t);e=e.replace(t,i)})),o.push(function(t){let e=t.replace(c,'');return e=e.replaceAll(a,', '),e.replace(/(?!\s)[,](?!\s)/g,', ')}(e))})),i.json||i.nodes?l():o.join('\n')},Object.seal(i)}.call(i),i.setDisplay.hide(),n.srcRoot&&e.insertAdjacentHTML('afterbegin',i.parseText(i.getFileType(await(await fetch(n.src)).text())));for(let e of n.cssRoot)n.shadowStyle+=t.sanitizeText(await(await fetch(e)).text());i.node.hasContent()&&i.node.showContent()}})}();