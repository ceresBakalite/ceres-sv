/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2018 - 2020 Alexander Munro
*/
window.ceres={},function(){const e={};(function(){this.clearElement=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},this.fileName=e=>e.substring(e.lastIndexOf('/')+1,e.length),this.fileType=(e,t)=>e.substring(e.lastIndexOf('.')+1,e.length).toUpperCase()===t.toUpperCase(),this.srcOpen=e=>window.open(e.element.getAttribute('src'),e.type),this.isString=e=>'[object String]'==Object.prototype.toString.call(e),this.composeElement=(e,t)=>{if(!e.type)return;const a=['LINK','SCRIPT','STYLE'].includes(e.type.trim().toUpperCase())?document.head:e.parent||document.body,r=document.createElement(e.type);Object.entries(t).forEach((([e,t])=>{r.setAttribute(e,t)})),e.markup&&r.insertAdjacentHTML('afterbegin',e.markup),a.appendChild(r)},this.setSwipe=(e,t,a)=>{e.act||(e.act=80),e.node.addEventListener('touchstart',(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener('touchmove',(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener('touchend',(r=>{e.end=r.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(a.action=e.start>e.end,t.call(this,a))}),{passive:!0})},this.ignore=e=>null===e||'undefined'==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e),this.getBoolean=e=>!0===e||!1===e?atr:!(this.ignore(e)||!this.isString(e))&&this.attrib.bool.includes(e.trim().toUpperCase()),this.getUniqueId=e=>{e.name||(e.name='n'),e.range||(e.range=100);for(;document.getElementById(e.el=e.name+Math.floor(Math.random()*e.range)););return e.el},this.removeDuplcates=(e,t)=>{const a=JSON.stringify,r=[...new Map(e.map((e=>[a(e),e]))).values()];return t?r.sort(((e,t)=>e-t)):r},this.sanitizeText=(t,a='text/html')=>{if(!e.ignore(t))return(new DOMParser).parseFromString(t,a).documentElement.textContent.replace(/</g,'&lt;')},this.inspect=e=>{const t=e=>{const t=e.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(t),e.alert&&alert(t)},a={[this.attrib.notify]:()=>{e.logtrace&&console.info(e.notification)},[this.attrib.warn]:()=>{e.logtrace&&console.warn(e.notification)},[this.attrib.reference]:()=>{e.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+e.reference)},[this.attrib.error]:()=>t({notification:e.notification,alert:e.logtrace}),[this.attrib.default]:()=>t({notification:'Unhandled exception'})};a[e.type]()||a[this.attrib.default]},this.getProperties=(e={},t='')=>{for(let a in e)t+=a+': '+e[a]+', ';return t.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],isWindows:-1!=navigator.appVersion.indexOf('Win'),get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((e=>e.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(e),window,document,window.customElements.define('ceres-sv',class extends HTMLElement{async connectedCallback(){ceres.getImage=t=>e.srcOpen({element:t,type:'image'}),ceres.getSlide=e=>r.get.slide({node:e});const t=this,a={},r={};t.src=t.getAttribute('src'),a.defaultCSS='https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css',a.src=e.ignore(t.src)?null:t.src.trim(),a.css=t.getAttribute('css')||a.defaultCSS,a.srcRoot=!e.ignore(a.src),a.cssRoot=e.removeDuplcates(a.css.trim().replace(/,/gi,';').replace(/;+$/g,'').replace(/[^\x00-\xFF]| /g,'').split(';')),a.commaCodes=/,|&comma;|&#x2c;|&#44;|U+0002C/g,a.commaSymbol='_&c',a.shadowStyle='',a.attrib={},a.slide=1,function(){const i=t.tagName.toLocaleLowerCase(),n=new Map,o={markup:'Image list markup ',element:'The element attributes ',tagSearch:'The '+i+' src attribute url is unavailable and there is no \'local\' elementId. Looking for the first occurance of a <template> or <noscript> tagname',properties:'Error: Unable to find the '+i+' document element',list:'Error: Unable to find either the '+i+' document element nor the fallback local template elements',template:'Error: Unable to find the local fallback template element when searching the document body',cache:'Warning: cache response status '};Object.freeze(o),this.node={hasContent:()=>r.content.properties()?r.content.textList()?r.content.textArray():e.inspect({type:e.attrib.error,notification:o.list}):e.inspect({type:e.attrib.error,notification:o.properties}),showContent:()=>{r.get.shadow(),r.get.slide({shadow:a.shadow}),r.get.view()}},this.content={properties:()=>{const r=['nub','sub','sur','zoom','cache','trace','delay','local','fade','auto','loading'],n=['color','font','padding','top','bottom'],s=t=>!e.getBoolean(t),l=t=>!e.getBoolean(t),c=t=>!e.getBoolean(t),d=t=>!!e.ignore(t)||e.getBoolean(t),m=t=>e.getBoolean(t),p=e=>Number.isInteger(parseInt(e,10))?parseInt(e,10):250,u=t=>e.ignore(t)?'auto':t,g=t=>!e.ignore(t)&&t;return(()=>{if(e.ignore(t))return!1;t.id=e.getUniqueId({name:i,range:1e3});const h=i=>{const o=t.getAttribute(i);if(e.ignore(o))return!1;const s=o.replace(/\s+:\s+/g,':').split(',').map((e=>e.trim())),l='sur'!=i?/.subtitle[^&]*?}/i:/.surtitle[^&]*?}/i,c=s[0];if(!Number.isInteger(parseInt(c))){if(!e.getBoolean(c))return!1;s.length>1&&s.shift()}return'auto'==i?(a.attrib.autocycle=Number.isInteger(parseInt(s[0]))?parseInt(s[0]):10,a.attrib.autopause=Number.isInteger(parseInt(s[1]))?parseInt(s[1]):3e3,a.attrib.autocancel=a.attrib.autocycle>-1,a.attrib.fade=a.attrib.autopause>400,a.attrib.nub='false',!0):(r.includes(i)&&(0!=s.length&&s.forEach((t=>{n.includes(t.split(':')[0])&&(t=>{const r=Boolean(t.match(/color:/i))?/color[^&]*?;/i:Boolean(t.match(/font:/i))?/font[^&]*?;/i:Boolean(t.match(/padding:/i))?/padding[^&]*?;/i:Boolean(t.match(/top:/i))?/top[^&]*?;/i:Boolean(t.match(/bottom:/i))?/bottom[^&]*?;/i:null;if(!e.ignore(r)){const e=String(a.shadowStyle.match(l));if(e){const i=e.replace(r,t.replace(/(\s+)?:(\s+)?/g,':')+';');i&&(a.shadowStyle=a.shadowStyle.replace(e,i))}}})(t)}))),!0)};return a.attrib.nub=s(t.getAttribute('nub')),a.attrib.fade=l(t.getAttribute('fade')),a.attrib.zoom=d(t.getAttribute('zoom')),a.attrib.cache=c(t.getAttribute('cache')),a.attrib.trace=m(t.getAttribute('trace')),a.attrib.delay=p(t.getAttribute('delay')),a.attrib.loading=u(t.getAttribute('loading')),a.attrib.local=g(t.getAttribute('local')),a.attrib.sur=h('sur'),a.attrib.sub=h('sub'),a.attrib.auto=h('auto'),Object.freeze(a.attrib),a.template=(()=>{if(a.srcRoot)return'undefined';let t=a.attrib.local?document.getElementById(a.attrib.local):null;return e.ignore(t)&&(e.inspect({type:e.attrib.notify,notification:o.tagSearch,logtrace:a.attrib.trace}),t=document.getElementsByTagName('template')[0]||document.getElementsByTagName('noscript')[0]),e.ignore(t)?'undefined':t})(),!0})()},textList:()=>a.srcRoot||a.template,textArray:()=>(a.imageArray=null,e.inspect({type:e.attrib.notify,notification:o.element+'['+t.id+'] '+e.getProperties(a.attrib),logtrace:a.attrib.trace}),(()=>{const i=a.srcRoot?(()=>{const a=t.textContent;return e.ignore(a)?null:a})():(()=>{const t='TEMPLATE'!=a.template.tagName?a.template.textContent:a.template.content.textContent;return e.ignore(t)?e.inspect({type:e.attrib.error,notification:o.template+' ['+a.attrib.local+']'}):r.parseText(t)})();return e.ignore(i)||(e.inspect({type:e.attrib.notify,notification:o.markup+'['+(a.srcRoot?t.id+' - '+e.fileName(a.src):a.attrib.local+' - template')+']'+e.attrib.newline+i.replaceAll(a.commaSymbol,'&comma;'),logtrace:a.attrib.trace}),a.imageArray=i?i.trim().split('\n'):null),!e.ignore(a.imageArray)})())},this.get={shadow:()=>{const i=document.querySelector('#'+t.id);e.clearElement(i),i.attachShadow({mode:'open'}),a.shadow=i.shadowRoot,r.compose.style(),r.compose.body(),a.attrib.auto||e.setSwipe({node:a.shadow.querySelector('div.slideview-body > div.slideview-image')},(e=>{const t=e.action?e.right:e.left;a.slide=a.slide+=t,r.get.slide({shadow:a.shadow})}),{left:-1,right:1})},slide:t=>{e.ignore(t.shadow)&&(t.shadow=e.ignore(t.node)?a.shadow:(e=>{const t=e.getRootNode().host,r=document.querySelector('#'+t.id).shadowRoot,i=r.querySelector('div.slideview-image > div.active');return a.slide=Number.parseInt(i.id.replace('img',''),10),n.set('left',a.slide-1),n.set('right',a.slide+1),n.set('nub',Number.parseInt(e.id.replace('nub',''),10)),a.slide=n.get(e.className),r})(t.node));const r=t.shadow.querySelectorAll('div.slideview-image > div.slide');a.slide=e.ignore(t.autoslide)?a.slide<1?r.length:a.slide>r.length?1:a.slide:t.autoslide;const i=a.slide-1;if(e.ignore(r[i]))return;const o=t.shadow.querySelector('div.slideview-image > div.active');o&&o.classList.replace('active','none'),r[i].classList.replace('none','active');const s=t.shadow.querySelector('div.slideview-nub > span.enabled');s&&(s.className='nub'),t.shadow.querySelectorAll('div.slideview-nub > span.nub')[i].className='nub enabled'},view:()=>{const t=()=>{const e=a.shadow.querySelectorAll('div.slideview-image > div.slide'),t=a.attrib.autocancel&&a.attrib.autocycle>-1?a.imageArray.length*a.attrib.autocycle:0;let i=0,n=1;const o=setInterval((function(){n=n<1?e.length:n>e.length?1:n,(a.attrib.autocancel?i===t||(n++,i++,0):(n++,0))&&clearInterval(o),r.get.slide({autoslide:n-1})}),a.attrib.autopause)};setTimeout((()=>{a.attrib.auto&&setTimeout((()=>{t()}),a.attrib.delay),r.setDisplay.show()}),a.attrib.delay),a.attrib.cache&&(()=>{if(!('caches'in window))return;const t=a.srcRoot?a.src.split():Array.from(''),r=i+'-cache';e.removeDuplcates(t.concat(a.cssRoot.concat([e.attrib.metaUrl]))).forEach((t=>{fetch(t).then((i=>(i.ok||e.inspect({type:e.attrib.warn,notification:o.cache+'['+i.status+'] - '+t,logtrace:a.attrib.trace}),caches.open(r).then((e=>e.put(t,i))))))}))})(),e.inspect({type:e.attrib.notify,notification:a.shadow,logtrace:a.attrib.trace})}},this.compose={style:()=>{const e=document.createElement('style');e.className='slideview-style',e.insertAdjacentHTML('beforeend',a.shadowStyle),a.shadow.appendChild(e)},body:()=>{const t=()=>e.ignore(p.sub)?null:p.sub.trim().replaceAll(a.commaSymbol,','),i=()=>e.ignore(p.sur)?m+' / '+a.imageArray.length:p.sur.trim().replaceAll(a.commaSymbol,','),n=r.getClassList('slide'),o=a.attrib.zoom?'ceres.getImage(this);':'javascript:void(0);',s='ceres.getSlide(this)',l=document.createElement('div');l.className='slideview-body';const c=document.createElement('div');c.className='slideview-image',l.appendChild(c);const d=document.createElement('div');d.className=r.getClassList('slideview-nub'),l.appendChild(d);let m=0,p={url:null,sub:null,sur:null};for(let r in a.imageArray){a.imageArray[r].split(',').forEach(((e,t)=>{p[t]=e}));const s=document.createElement('div');s.className=n,s.id='img'+ ++m,c.appendChild(s),a.attrib.sur&&e.composeElement({type:'div',parent:s,markup:a.attrib.sur?i():null},{class:'surtitle fade'}),e.composeElement({type:'img',parent:s},{class:'slide',onclick:o,src:e.ignore(p.url)?null:p.url.trim(),alt:t(),loading:Boolean(a.attrib.loading.match(/lazy|eager|auto/i))?a.attrib.loading:'auto'}),a.attrib.sub&&e.composeElement({type:'div',parent:s,markup:a.attrib.sub?t():null},{class:'subtitle fade'})}e.composeElement({type:'a',parent:c,markup:'&#10094;'},{class:r.getClassList('left'),onclick:s}),e.composeElement({type:'a',parent:c,markup:'&#10095;'},{class:r.getClassList('right'),onclick:s}),a.imageArray.forEach(((t,a)=>{e.composeElement({type:'span',parent:d},{id:'nub'+a,class:'nub',onclick:s})})),a.shadow.appendChild(l)}},this.setDisplay={hide:()=>{t.style.visibility='hidden',t.style.display='none'},show:()=>{t.style.removeProperty('display'),t.style.removeProperty('visibility'),0===t.style.length&&t.removeAttribute('style')}},this.getClassList=e=>'slide'!=e?a.attrib.nub&&a.attrib.auto?e+=' none':e:(a.attrib.zoom&&(e+=' zoom'),a.attrib.fade&&(e+=' fade'),e+' none'),this.getFileType=t=>e.fileType(a.src,'json')?r.parseJSON(t):e.fileType(a.src,'csv')?r.parseJSON(r.parseCSV(t,{json:!0,nodes:['url','sub','sur']})):t,this.parseText=t=>e.sanitizeText(t.replace(/\\,|&comma;|&#x2c;|&#44;|U+0002C/g,a.commaSymbol).replace(/^\s*?<template(.*?)>|<\/template>\s*?$/,'')),this.parseJSON=e=>{const t=JSON.parse(e);let r='';return t.forEach((e=>{r+=e.url+(e.sub?', '+e.sub.replace(a.commaCodes,a.commaSymbol):'')+(e.sur?', '+e.sur.replace(a.commaCodes,a.commaSymbol):'')+'\n'})),r},this.parseCSV=(t,r={})=>{const i=t.split('\n'),n=new Array(i.length),o='_&grp;',s=/"[^]*?",|"[^]*?"$/gm,l=new RegExp('_&grp;s*?$','g'),c=()=>{const t=/,\s*?$/;let a='';return n.forEach((i=>{e.ignore(i)||(a+='{ ',i.split(',').forEach(((e,t)=>{a+=(e=>r.nodes[e]?'"'+r.nodes[e]+'": ':'"node'+e+'1": ')(t)+'"'+e.trim().replace(/"/g,'\\"')+'", '})),a=a.replace(t,'')+' },\n')})),'['+a.replace(t,'')+']'};return i.forEach((e=>{let t=String(e);[...t.matchAll(s)].forEach((e=>{let r=(e=>{let t=String(e).replace(/"\s*?$|"\s*?,\s*?$/,'').replace(/^\s*?"/,'');return t=t.replace(/""/g,'"'),t.replace(a.commaCodes,a.commaSymbol)+o})(e);t=t.replace(e,r)})),n.push((e=>{let t=e.replace(l,'');return t=t.replaceAll(o,', '),t.replace(/(?!\s)[,](?!\s)/g,', ')})(t))})),r.json||r.nodes?c():n.join('\n')},Object.seal(r)}.call(r),r.setDisplay.hide(),a.srcRoot&&t.insertAdjacentHTML('afterbegin',r.parseText(r.getFileType(await(await fetch(a.src)).text())));for(let t of a.cssRoot)a.shadowStyle+=e.sanitizeText(await(await fetch(t)).text());r.node.hasContent()&&r.node.showContent()}})}();