/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{ceres};import{resource as rsc}from"./ceres-sv-lib.min.js";var ceres={};(function(){"use strict";this.getImage=function(t){rsc.windowOpen({element:t,type:"image"})},this.getSlide=function(t,i){r(e.index=i?e.index+=t:t)};let t=new class{constructor(){this.type=function(){return type},this.attribute=function(){return attribute}}},e=new class{constructor(){this.progenitor=null,this.listElement=null,this.imageArray=[],this.attribute=function(){return attribute},this.isCallbackList=!1,this.isCssList=!1,this.index=1}};Object.seal(rsc),Object.seal(e),e.attribute.HTMLSlideViewElement="ceres-sv",e.attribute.HTMLImageListElement="ceres-csv",e.attribute.defaultCSS="https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css",window.customElements.get(e.attribute.HTMLSlideViewElement)||window.customElements.define(e.attribute.HTMLSlideViewElement,class extends HTMLElement{async connectedCallback(){const t=this.getAttribute("css")?this.getAttribute("css"):e.attribute.defaultCSS,s=this.getAttribute("src")?this.getAttribute("src"):null;(e.isCssList=!rsc.isEmptyOrNull(t))&&await await function(t){const i=e.isCssList?t.trim().replace(/,/gi,";").replace(/;+$/g,"").replace(/[^\x00-\xFF]| /g,"").split(";"):null;for(let t=0;t<i.length;t++)rsc.composeLinkElement({rel:"stylesheet",type:"text/css",href:i[t],as:"style"})}(t),(e.isCallbackList=!rsc.isEmptyOrNull(s))&&this.insertAdjacentHTML("afterbegin",await(await fetch(s)).text()),i()&&(e.progenitor.style.display="none",function(){let t=function(){return rsc.isEmptyOrNull(o[0])?null:o[0].trim()},i=function(){return e.attribute.sur?c+" / "+e.imageArray.length:null},s=function(){return e.attribute.sub?l():null},l=function(){return rsc.isEmptyOrNull(o[1])?null:o[1].trim()};rsc.clearElement(e.progenitor);const a=document.createElement("div");a.id=e.attribute.HTMLSlideViewElement+"-image-container",e.progenitor.appendChild(a),rsc.composeAttribute({id:a.id,type:"class",value:"slideview-image-container"});for(let r=0;r<e.imageArray.length;r++){var o=e.imageArray[r].split(","),c=r+1;let n="slideview"+c,u={surName:"slideview-sur"+c,imgName:"slideview-img"+c,subName:"slideview-sub"+c};rsc.composeElement({el:"div",id:n,classValue:"slideview fade",parent:a});let d=document.getElementById(n);e.attribute.sur&&rsc.composeElement({el:"div",id:u.surName,classValue:"surtitle",parent:d,markup:i()}),rsc.composeElement({el:"img",id:u.imgName,classValue:"slide",parent:d,onClickEvent:"window.getImage(this);",url:t(),accessibility:l()}),e.attribute.sub&&rsc.composeElement({el:"div",id:u.subName,classValue:"subtitle",parent:d,markup:s()})}function u(t){const i=t.action?t.right:t.left;r(e.index=e.index+=i)}function d(){const t=document.createElement("div");let i=function(){return"window.getSlide("+r+")"};t.id=e.attribute.HTMLSlideViewElement+"-pointer-container",e.progenitor.appendChild(document.createElement("br")),e.progenitor.appendChild(t),rsc.composeAttribute({id:t.id,type:"class",value:"slideview-pointer-container"});for(let n=0;n<e.imageArray.length;n++){var r=n+1;rsc.composeElement({el:"span",id:"slideview-ptr"+r,classValue:"ptr",parent:t,onClickEvent:i()})}e.progenitor.appendChild(document.createElement("br"))}rsc.composeElement({el:"a",id:"slideview-prev",classValue:"prev",parent:a,markup:"&#10094;",onClickEvent:"window.getSlide(-1, true)"}),rsc.composeElement({el:"a",id:"slideview-next",classValue:"next",parent:a,markup:"&#10095;",onClickEvent:"window.getSlide(1, true)"}),e.attribute.ptr&&d(),n("none"),rsc.setHorizontalSwipe({act:80,el:"div.slideview-image-container"},u,{left:-1,right:1}),rsc.inspect({type:rsc.constant.notify,notification:e.progenitor,logtrace:e.attribute.trace})}(),r(),setTimeout((function(){n("block")}),e.attribute.delay))}});let i=function(){return function(){e.progenitor=document.getElementById(e.attribute.HTMLSlideViewElement)?document.getElementById(e.attribute.HTMLSlideViewElement):document.getElementsByTagName(e.attribute.HTMLSlideViewElement)[0];const t=!rsc.isEmptyOrNull(e.progenitor);return t&&(e.attribute.ptr=!rsc.getBooleanAttribute(e.progenitor.getAttribute("ptr")),e.attribute.sur=!rsc.getBooleanAttribute(e.progenitor.getAttribute("sur")),e.attribute.sub=!rsc.getBooleanAttribute(e.progenitor.getAttribute("sub")),e.attribute.trace=rsc.getBooleanAttribute(e.progenitor.getAttribute("trace")),e.attribute.delay=Number.isInteger(parseInt(e.progenitor.getAttribute("delay")))?parseInt(e.progenitor.getAttribute("delay")):250,Object.freeze(e.attribute)),t}()?(t.attribute.ProgenitorInnerHTML="Progenitor innerHTML ["+e.attribute.HTMLSlideViewElement+"]: "+rsc.constant.newline+rsc.constant.newline,t.attribute.ListContainerMarkup="Image list markup "+(e.isCallbackList?"delivered as promised by connectedCallback":"sourced from the document body")+" ["+e.attribute.HTMLSlideViewElement+"]:"+rsc.constant.newline,t.attribute.BodyContentList="The "+e.attribute.HTMLSlideViewElement+" src attribute url is unavailable. Searching for the fallback noscript image list content in the document body",t.attribute.BodyContentListNotFound="Error: Unable to find the "+e.attribute.HTMLSlideViewElement+" fallback noscript image list when searching the document body",t.attribute.CSVObjectAttributes="The csv object attribute properties after initialisation ["+e.attribute.HTMLSlideViewElement+"]: ",t.attribute.ProgenitorNotFound="Error: Unable to find the "+e.attribute.HTMLSlideViewElement+" document element",t.attribute.ListContainerNotFound="Error: Unable to find either the connectedCallback "+e.attribute.HTMLSlideViewElement+" attribute source nor the fallback noscript image list container",Object.freeze(t.attribute),e.progenitor.id=rsc.getUniqueElementId(e.attribute.HTMLSlideViewElement),e.listElement=document.getElementById(e.attribute.HTMLImageListElement)?document.getElementById(e.attribute.HTMLImageListElement):document.getElementsByTagName("noscript")[0],e.isCallbackList||e.listElement?function(){rsc.inspect({type:rsc.constant.notify,notification:t.attribute.CSVObjectAttributes+rsc.getObjectProperties(e.attribute),logtrace:e.attribute.trace});let i=e.isCallbackList?rsc.isEmptyOrNull(e.progenitor.textContent)?null:e.progenitor.textContent:function(){rsc.inspect({type:rsc.constant.notify,notification:t.attribute.BodyContentList,logtrace:e.attribute.trace});const i=rsc.isEmptyOrNull(e.listElement)?null:e.listElement.textContent;return rsc.isEmptyOrNull(i)?rsc.inspect({type:rsc.constant.error,notification:t.attribute.BodyContentListNotFound,logtrace:e.attribute.trace}):i}();return i&&rsc.inspect({type:rsc.constant.notify,notification:t.attribute.ListContainerMarkup+i,logtrace:e.attribute.trace}),e.imageArray=i?i.trim().replace(/\r\n|\r|\n/gi,";").split(";"):null,!rsc.isEmptyOrNull(e.imageArray)}():rsc.inspect({type:rsc.constant.error,notification:t.attribute.ListContainerNotFound,logtrace:e.attribute.trace})):rsc.inspect({type:rsc.constant.error,notification:t.attribute.ProgenitorNotFound,logtrace:e.attribute.trace})};function r(t){const i=document.querySelectorAll("div.slideview");e.index=t<1?i.length:t>i.length?1:e.index,i.forEach((t=>{t.style.display="none"})),i[e.index-1].style.display="block",e.attribute.ptr&&function(){const t=document.querySelectorAll("span.ptr"),i=document.querySelector("span.active");i&&(i.className="ptr");t[e.index-1].className+=" active"}()}function n(t){document.querySelectorAll("img.slide, #"+e.progenitor.id).forEach((e=>{e.style.display=t}))}}).call(window);