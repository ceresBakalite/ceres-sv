/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
window.ceres={},function(){const t={};(function(){this.srcOpen=function(t){window.open(t.element.getAttribute('src'),t.type)},this.isString=function(t){return'[object String]'==Object.prototype.toString.call(t)},this.clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},this.fileName=function(t){return t.substring(t.lastIndexOf('/')+1,t.length)},this.fileType=function(t,e){return t.substring(t.lastIndexOf('.'),t.length).toUpperCase()===e.toUpperCase()},this.composeElement=function(t,e){if(!t.type)return;const i=this.attrib.tagName.includes(t.type.trim().toUpperCase())?document.head:t.parent||document.body,n=document.createElement(t.type);Object.entries(e).forEach((([t,e])=>{n.setAttribute(t,e)})),t.markup&&n.insertAdjacentHTML('afterbegin',t.markup),i.appendChild(n)},this.setSwipe=function(t,e,i){t.act||(t.act=80),t.node.addEventListener('touchstart',(e=>{t.start=e.changedTouches[0].screenX}),{passive:!0}),t.node.addEventListener('touchmove',(t=>{t.preventDefault()}),{passive:!0}),t.node.addEventListener('touchend',(n=>{t.end=n.changedTouches[0].screenX,Math.abs(t.start-t.end)>t.act&&(i.action=t.start>t.end,e.call(this,i))}),{passive:!0})},this.ignore=function(t){return null===t||'undefined'==t||(this.isString(t)?0===t.length||!t.trim():Array.isArray(t)?0===t.length:t&&t.constructor===Object?0===Object.keys(t).length:!t)},this.getBoolean=function(t){return!0===t||!1===t?atr:!(this.ignore(t)||!this.isString(t))&&this.attrib.bool.includes(t.trim().toUpperCase())},this.getUniqueId=function(t){t.name||(t.name='n'),t.range||(t.range=100);for(;document.getElementById(t.el=t.name+Math.floor(Math.random()*t.range)););return t.el},this.getCurrentDateTime=function(t={}){const e=new Date;if(this.ignore(t))return e;const i=function(t){return t<10?'0':''};Date.prototype.today=function(){return i(this.getDate())+this.getDate()+'/'+i(this.getMonth()+1)+(this.getMonth()+1)+'/'+this.getFullYear()},Date.prototype.timeNow=function(){let e=i(this.getHours())+this.getHours()+':'+i(this.getMinutes())+this.getMinutes()+':'+i(this.getSeconds())+this.getSeconds();return t.ms?e+'.'+i(this.getUTCMilliseconds())+this.getUTCMilliseconds():e};let n=t.date?e.today()+' ':'';return n=t.time?n+e.timeNow():'',n.trim()},this.recursiveReplace=function(t,e,i){return t.replace(e,(function(t){return i[t]}))},this.removeDuplcates=function(t,e){const i=JSON.stringify;let n=[...new Map(t.map((t=>[i(t),t]))).values()];return e?n.sort(((t,e)=>t-e)):n},this.parseText=function(t){if(this.ignore(t.text))return;if(t.regex||t.text.includes('</template>'))return t.text.replace(this.attrib.markup,'');let e=(new DOMParser).parseFromString(t.text,'text/html');return e.body.textContent||e.body.innerText},this.parseCSV=function(e,i={}){i.quote||(i.quote='&quot;'),i.comma||(i.comma='&comma;'),i.end||(i.end='_&grp');const n=e.split('\n'),r=/"[^]*?",|"[^]*?"$/g,a={'"':i.quote,',':i.comma},o=new Array(n.length);let s=0;return n.forEach((e=>{let i=String(e),n=i,c=[...i.matchAll(r)],l=s++;c.forEach((t=>{let e=function(t){return String(t).replace(/"\s*?$|"\s*?,\s*?$/,'').replace(/^\s*?"/,'')}(t);console.log(this.getCurrentDateTime({time:!0,ms:!0})+' testGroup 2 '+l+': ['+t+'] - ['+e+']'),n=n.replace(t,e)})),c.forEach((e=>{let n=t.recursiveReplace(String(e).replace(/^\s*?"/,'').replace(/"\s*?,\s*? $/,''),RegExp(/"|,/g),a)+',';i=String(i).replace(e,n)})),o.push(i.trim().slice(0,-1))})),console.log('time: '+this.getCurrentDateTime({time:!0,ms:!0})),o.join('\n')},this.inspect=function(t){const e=function(t){let e=t.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(e),t.alert&&alert(e)},i={[this.attrib.notify]:function(){t.logtrace&&console.info(t.notification)},[this.attrib.warn]:function(){t.logtrace&&console.warn(t.notification)},[this.attrib.reference]:function(){t.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+t.reference)},[this.attrib.error]:function(){e({notification:t.notification,alert:t.logtrace})},[this.attrib.default]:function(){e({notification:'Unhandled exception'})}};i[t.type]()||i[this.attrib.default]},this.getProperties=function(t={},e=''){for(let i in t)e+=i+': '+t[i]+', ';return e.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],pArray:['color','font','padding','top','bottom'],tArray:['link','script','style'],quoteSymbol:'_&q',commaSymbol:'_&c',isWindows:-1!=navigator.appVersion.indexOf('Win'),whitespace:/\s/g,markup:/(<([^>]+)>)/gi,get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((t=>t.trim().toUpperCase()))},get tagName(){return this.tArray.map((t=>t.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(t),window,document,window.customElements.define('ceres-sv',class extends HTMLElement{async connectedCallback(){ceres.getImage=function(e){t.srcOpen({element:e,type:'image'})},ceres.getSlide=function(t){n.get.slide({node:t})};const e=this,i={},n={};e.src=e.getAttribute('src'),i.defaultCSS='https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css',i.src=t.ignore(e.src)?null:e.src.trim(),i.css=e.getAttribute('css')||i.defaultCSS,i.srcRoot=!t.ignore(i.src),i.cssRoot=t.removeDuplcates(i.css.trim().replace(/,/gi,';').replace(/;+$/g,'').replace(/[^\x00-\xFF]| /g,'').split(';')),i.href='ceres.getSlide(this)',i.shadowStyle='',i.attrib={},i.slide=1,function(){const r=e.tagName.toLocaleLowerCase(),a=new Map,o={markup:'Image list markup ',element:'The element attributes ',srcSearch:'The '+r+' src attribute url is unavailable. Searching for the fallback template element in the document body',tagSearch:'There is no \'embed\' elementId available. Looking for the first occurance of a <template> or <noscript> tagname',properties:'Error: Unable to find the '+r+' document element',list:'Error: Unable to find either the fetch '+r+' nor the fallback template elements',template:'Error: Unable to find the fallback template element when searching the document body',cache:'Warning: cache response status '};Object.freeze(o),this.node={hasContent:function(){return n.content.properties()?n.content.textList()?n.content.textArray():t.inspect({type:t.attrib.error,notification:o.list}):t.inspect({type:t.attrib.error,notification:o.properties})},showContent:function(){n.get.shadow(),n.get.slide({shadow:i.shadow}),n.get.view()}},this.content={properties:function(){const n=['nub','sub','sur','zoom','cache','trace','delay','embed','fade','auto','loading'],a={nub:function(e){return!t.getBoolean(e)},fade:function(e){return!t.getBoolean(e)},cache:function(e){return!t.getBoolean(e)},zoom:function(e){return!!t.ignore(e)||t.getBoolean(e)},trace:function(e){return t.getBoolean(e)},delay:function(t){return Number.isInteger(parseInt(t))?parseInt(t):250},loading:function(e){return t.ignore(e)?'auto':e},embed:function(e){return!t.ignore(e)&&e}};return function(){if(t.ignore(e))return!1;e.id=t.getUniqueId({name:r,range:1e3});let s=function(r){let o=e.getAttribute(r);if(t.ignore(o))return!1;let s=o.replace(/ :|: /gi,':').split(','),c=s[0];if(!Number.isInteger(parseInt(c))){if(!t.getBoolean(c))return!1;s.length>1&&s.shift()}if('auto'==r)return i.attrib.autocycle=Number.isInteger(parseInt(s[0]))?parseInt(s[0]):10,i.attrib.autopause=Number.isInteger(parseInt(s[1]))?parseInt(s[1]):3e3,i.attrib.autocancel=i.attrib.autocycle>-1,i.attrib.fade=i.attrib.autopause>400,i.attrib.nub='false',!0;const l={get property(){return t.attrib.pArray.map((t=>t.trim().toUpperCase()))},get attribute(){return s.map((t=>t.trim()))}};return n.includes(a)&&function(){if(0==s.length)return;let e='sur'==r?/.surtitle[^&]*?}/i:/.subtitle[^&]*?}/i;l.attribute.forEach((n=>{l.property.includes(n.toUpperCase())&&function(n){let r=Boolean(n.match(/color:/i))?/color[^&]*?;/i:Boolean(n.match(/font:/i))?/font[^&]*?;/i:Boolean(n.match(/padding:/i))?/padding[^&]*?;/i:Boolean(n.match(/top:/i))?/top[^&]*?;/i:Boolean(n.match(/bottom:/i))?/bottom[^&]*?;/i:null;if(!t.ignore(r)){let t=String(i.shadowStyle.match(e));if(t){let e=t.replace(r,n+';');e&&(i.shadowStyle=i.shadowStyle.replace(t,e))}}}(n)}))}(),!0};return i.attrib.nub=a.nub(e.getAttribute('nub')),i.attrib.fade=a.fade(e.getAttribute('fade')),i.attrib.zoom=a.zoom(e.getAttribute('zoom')),i.attrib.cache=a.cache(e.getAttribute('cache')),i.attrib.trace=a.trace(e.getAttribute('trace')),i.attrib.delay=a.delay(e.getAttribute('delay')),i.attrib.loading=a.loading(e.getAttribute('loading')),i.attrib.embed=a.embed(e.getAttribute('embed')),i.attrib.sur=s('sur'),i.attrib.sub=s('sub'),i.attrib.auto=s('auto'),Object.freeze(i.attrib),i.template=function(){if(i.srcRoot)return'undefined';let e=i.attrib.embed?document.getElementById(i.attrib.embed):null;return t.ignore(e)&&(t.inspect({type:t.attrib.notify,notification:o.tagSearch,logtrace:i.attrib.trace}),e=document.getElementsByTagName('template')[0]||document.getElementsByTagName('noscript')[0]),t.ignore(e)?'undefined':e}(),!0}()},textList:function(){return i.srcRoot||i.template},textArray:function(){return i.imageArray=null,t.inspect({type:t.attrib.notify,notification:o.element+'['+e.id+'] '+t.getProperties(i.attrib),logtrace:i.attrib.trace}),function(){let n=i.srcRoot?function(){let i=e.textContent;return t.ignore(i)?null:i}():function(){t.inspect({type:t.attrib.notify,notification:o.srcSearch,logtrace:i.attrib.trace});let e='TEMPLATE'==i.template.tagName?i.template.content.textContent:i.template.textContent;return t.ignore(e)?t.inspect({type:t.attrib.error,notification:o.template+' ['+i.attrib.embed+']'}):e}();return t.ignore(n)||(t.inspect({type:t.attrib.notify,notification:o.markup+'['+(i.srcRoot?e.id+' - '+t.fileName(i.src):i.attrib.embed+' - template')+']'+t.attrib.newline+n.replaceAll(t.attrib.quoteSymbol,'&quot;').replaceAll(t.attrib.commaSymbol,'&comma;'),logtrace:i.attrib.trace}),i.imageArray=n?n.trim().replace(/\r\n|\r|\n/gi,';').split(';'):null),!t.ignore(i.imageArray)}()}},this.get={shadow:function(){i.shade=document.querySelector('#'+e.id),t.clearElement(i.shade),i.shade.attachShadow({mode:'open'}),i.shadow=i.shade.shadowRoot,n.compose.styles(),n.compose.body(),n.compose.images(),n.compose.track(),i.shadow.append(i.bodyNode),i.attrib.auto||t.setSwipe({node:i.shadow.querySelector('div.slideview-body > div.slideview-image')},(function(t){let e=t.action?t.right:t.left;i.slide=i.slide+=e,n.get.slide({shadow:i.shadow})}),{left:-1,right:1})},slide:function(e){t.ignore(e.shadow)&&(e.shadow=t.ignore(e.node)?i.shadow:function(t){let e=t.getRootNode().host,n=document.querySelector('#'+e.id).shadowRoot,r=n.querySelector('div.slideview-image > div.active');return i.slide=Number.parseInt(r.id.replace('img',''),10),a.set('left',i.slide-1),a.set('right',i.slide+1),a.set('nub',Number.parseInt(t.id.replace('nub',''),10)),i.slide=a.get(t.className),n}(e.node));let n=e.shadow.querySelectorAll('div.slideview-image > div.slide');i.slide=t.ignore(e.autoslide)?i.slide<1?n.length:i.slide>n.length?1:i.slide:e.autoslide;let r=i.slide-1;if(t.ignore(n[r]))return;let o=e.shadow.querySelector('div.slideview-image > div.active');o&&o.classList.replace('active','none'),n[r].classList.replace('none','active');let s=e.shadow.querySelector('div.slideview-nub > span.enabled');s&&(s.className='nub'),e.shadow.querySelectorAll('div.slideview-nub > span.nub')[r].className='nub enabled'},view:function(){const e=function(){let t=i.shadow.querySelectorAll('div.slideview-image > div.slide'),e=i.attrib.autocancel&&i.attrib.autocycle>-1?i.imageArray.length*i.attrib.autocycle:0,r=0,a=1,o=setInterval((function(){a=a<1?t.length:a>t.length?1:a,(i.attrib.autocancel?r===e||(a++,r++,0):(a++,0))&&clearInterval(o),n.get.slide({autoslide:a-1})}),i.attrib.autopause)};setTimeout((function(){i.attrib.auto&&setTimeout((function(){e()}),i.attrib.delay),n.setDisplay.show()}),i.attrib.delay),i.attrib.cache&&function(){if(!('caches'in window))return;i.shadowsrc=i.srcRoot?i.src.split():Array.from('');let e=r+'-cache';t.removeDuplcates(i.shadowsrc.concat(i.cssRoot.concat([t.attrib.metaUrl]))).forEach((n=>{fetch(n).then((r=>(r.ok||t.inspect({type:t.attrib.warn,notification:o.cache+'['+r.status+'] - '+n,logtrace:i.attrib.trace}),caches.open(e).then((t=>t.put(n,r))))))}))}(),t.inspect({type:t.attrib.notify,notification:i.shadow,logtrace:i.attrib.trace})}},this.compose={styles:function(){i.styleNode=document.createElement('style'),i.styleNode.className='slideview-style',i.styleNode.insertAdjacentHTML('beforeend',i.shadowStyle),i.shadow.append(i.styleNode)},body:function(){i.bodyNode=document.createElement('div'),i.bodyNode.className='slideview-body',i.shade.appendChild(i.bodyNode)},images:function(e=0){const r=function(){return t.ignore(l[1])?null:l[1].trim().replaceAll(t.attrib.quoteSymbol,'&quot;').replaceAll(t.attrib.commaSymbol,'&comma;')},a=function(){return i.attrib.sur?t.ignore(l[2])?e+' / '+i.imageArray.length:l[2].trim().replaceAll(t.attrib.quoteSymbol,'&quot;').replaceAll(t.attrib.commaSymbol,'&comma;'):null};let o=i.attrib.zoom?'ceres.getImage(this);':'javascript:void(0);',s=n.getClassList('slide');const c=document.createElement('div');c.className='slideview-image',i.bodyNode.appendChild(c);for(let n=0;n<i.imageArray.length;n++){var l=i.imageArray[n].split(',');let u=document.createElement('div');u.id='img'+ ++e,u.className=s,c.appendChild(u),i.attrib.sur&&t.composeElement({type:'div',parent:u,markup:a()},{class:'surtitle fade'}),t.composeElement({type:'img',parent:u},{class:'slide',onclick:o,src:t.ignore(l[0])?null:l[0].trim(),alt:r(),loading:Boolean(i.attrib.loading.match(/lazy|eager|auto/i))?i.attrib.loading:'auto'}),i.attrib.sub&&t.composeElement({type:'div',parent:u,markup:i.attrib.sub?r():null},{class:'subtitle fade'})}t.composeElement({type:'a',parent:c,markup:'&#10094;'},{class:n.getClassList('left'),onclick:i.href}),t.composeElement({type:'a',parent:c,markup:'&#10095;'},{class:n.getClassList('right'),onclick:i.href})},track:function(e=0){const r=document.createElement('div');r.className=n.getClassList('slideview-nub'),i.bodyNode.appendChild(r);for(let n=0;n<i.imageArray.length;n++)t.composeElement({type:'span',parent:r},{id:'nub'+ ++e,class:'nub',onclick:i.href})}},this.setDisplay={hide:function(){e.style.visibility='hidden',e.style.display='none'},show:function(){e.style.removeProperty('display'),e.style.removeProperty('visibility'),0===e.style.length&&e.removeAttribute('style')}},this.getClassList=function(t){return'slide'!=t?i.attrib.nub&&i.attrib.auto?t+=' none':t:(i.attrib.zoom&&(t+=' zoom'),i.attrib.fade&&(t+=' fade'),t+' none')},this.getFileType=function(e){return t.fileType(i.src,'.json')?n.parseJSON(e):t.fileType(i.src,'.csv')?t.parseCSV(e,{quote:t.attrib.quoteSymbol,comma:t.attrib.commaSymbol}):e},this.parseJSON=function(t){let e='';return JSON.parse(t).forEach((t=>{e+=t.url+(t.sub?', '+t.sub:'')+(t.sur?', '+t.sur:'')+'\n'})),e},Object.seal(n)}.call(n),n.setDisplay.hide(),i.srcRoot&&e.insertAdjacentHTML('afterbegin',t.parseText({text:n.getFileType(await(await fetch(i.src)).text())}));for(let e of i.cssRoot)i.shadowStyle+=t.parseText({text:await(await fetch(e)).text()});n.node.hasContent()&&n.node.showContent()}})}();