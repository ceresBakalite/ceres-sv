/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{ceres};import{resource as rsc}from"./ceres-sv-lib.min.js";var ceres={};(function(){"use strict";this.getImage=function(e){rsc.windowOpen({element:e,type:"image"})},this.getSlide=function(e,i){n(t.index=i?t.index+=e:e)};let e=new class{constructor(){this.type=function(){return type},this.resource=function(){return attribute}}},t=new class{constructor(){this.progenitor=null,this.listElement=null,this.imageArray=[],this.config=function(){return attribute},this.isCallbackList=!1,this.isCssList=!1,this.index=1}};Object.seal(e),Object.seal(t),t.config.HTMLSlideViewElement="ceres-sv",t.config.HTMLImageListElement="ceres-csv",t.config.defaultCSS="https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css",window.customElements.get(t.config.HTMLSlideViewElement)||window.customElements.define(t.config.HTMLSlideViewElement,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute("css")?this.getAttribute("css"):t.config.defaultCSS,o=this.getAttribute("src")?this.getAttribute("src"):null;(t.isCssList=!rsc.isEmptyOrNull(e))&&await await function(e){const i=t.isCssList?e.trim().replace(/,/gi,";").replace(/;+$/g,"").replace(/[^\x00-\xFF]| /g,"").split(";"):null;for(let e=0;e<i.length;e++)rsc.composeLinkElement({rel:"stylesheet",type:"text/css",href:i[e],as:"style"})}(e),(t.isCallbackList=!rsc.isEmptyOrNull(o))&&this.insertAdjacentHTML("afterbegin",await(await fetch(o)).text()),i()&&(t.progenitor.style.display="none",function(){let e=function(){return rsc.isEmptyOrNull(l[0])?null:l[0].trim()},i=function(){return t.config.sur?a+" / "+t.imageArray.length:null},o=function(){return t.config.sub?c():null},c=function(){return rsc.isEmptyOrNull(l[1])?null:l[1].trim()};rsc.clearElement(t.progenitor);const s=document.createElement("div");s.id=t.config.HTMLSlideViewElement+"-image-container",t.progenitor.appendChild(s),rsc.composeAttribute({id:s.id,type:"class",value:"slideview-image-container"});for(let n=0;n<t.imageArray.length;n++){var l=t.imageArray[n].split(","),a=n+1;let r="slideview"+a,u={surName:"slideview-sur"+a,imgName:"slideview-img"+a,subName:"slideview-sub"+a};rsc.composeElement({el:"div",id:r,classValue:"slideview fade",parent:s});let g=document.getElementById(r);t.config.sur&&rsc.composeElement({el:"div",id:u.surName,classValue:"surtitle",parent:g,markup:i()}),rsc.composeElement({el:"img",id:u.imgName,classValue:"slide",parent:g,onClickEvent:"window.getImage(this);",url:e(),accessibility:c()}),t.config.sub&&rsc.composeElement({el:"div",id:u.subName,classValue:"subtitle",parent:g,markup:o()})}function u(e){const i=e.action?e.right:e.left;n(t.index=t.index+=i)}function g(){const e=document.createElement("div");let i=function(){return"window.getSlide("+n+")"};e.id=t.config.HTMLSlideViewElement+"-pointer-container",t.progenitor.appendChild(document.createElement("br")),t.progenitor.appendChild(e),rsc.composeAttribute({id:e.id,type:"class",value:"slideview-pointer-container"});for(let r=0;r<t.imageArray.length;r++){var n=r+1;rsc.composeElement({el:"span",id:"slideview-ptr"+n,classValue:"ptr",parent:e,onClickEvent:i()})}t.progenitor.appendChild(document.createElement("br"))}rsc.composeElement({el:"a",id:"slideview-prev",classValue:"prev",parent:s,markup:"&#10094;",onClickEvent:"window.getSlide(-1, true)"}),rsc.composeElement({el:"a",id:"slideview-next",classValue:"next",parent:s,markup:"&#10095;",onClickEvent:"window.getSlide(1, true)"}),t.config.ptr&&g(),r("none"),rsc.setHorizontalSwipe({act:80,el:"div.slideview-image-container"},u,{left:-1,right:1}),rsc.inspect({type:rsc.constant.notify,notification:t.progenitor,logtrace:t.config.trace})}(),n(),setTimeout((function(){r("block")}),t.config.delay))}});let i=function(){return function(){t.progenitor=document.getElementById(t.config.HTMLSlideViewElement)?document.getElementById(t.config.HTMLSlideViewElement):document.getElementsByTagName(t.config.HTMLSlideViewElement)[0];const e=!rsc.isEmptyOrNull(t.progenitor);return e&&(t.config.ptr=!rsc.getBooleanAttribute(t.progenitor.getAttribute("ptr")),t.config.sur=!rsc.getBooleanAttribute(t.progenitor.getAttribute("sur")),t.config.sub=!rsc.getBooleanAttribute(t.progenitor.getAttribute("sub")),t.config.trace=rsc.getBooleanAttribute(t.progenitor.getAttribute("trace")),t.config.delay=Number.isInteger(parseInt(t.progenitor.getAttribute("delay")))?parseInt(t.progenitor.getAttribute("delay")):250,Object.freeze(t.config)),e}()?(e.resource.ProgenitorInnerHTML="Progenitor innerHTML ["+t.config.HTMLSlideViewElement+"]: "+rsc.constant.newline+rsc.constant.newline,e.resource.ListContainerMarkup="Image list markup "+(t.isCallbackList?"delivered as promised by connectedCallback":"sourced from the document body")+" ["+t.config.HTMLSlideViewElement+"]:"+rsc.constant.newline,e.resource.BodyContentList="The "+t.config.HTMLSlideViewElement+" src attribute url is unavailable. Searching for the fallback noscript image list content in the document body",e.resource.BodyContentListNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" fallback noscript image list when searching the document body",e.resource.CSVObjectAttributes="The csv object attribute properties after initialisation ["+t.config.HTMLSlideViewElement+"]: ",e.resource.ProgenitorNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" document element",e.resource.ListContainerNotFound="Error: Unable to find either the connectedCallback "+t.config.HTMLSlideViewElement+" attribute source nor the fallback noscript image list container",Object.freeze(e.resource),t.progenitor.id=rsc.getUniqueElementId(t.config.HTMLSlideViewElement),t.listElement=document.getElementById(t.config.HTMLImageListElement)?document.getElementById(t.config.HTMLImageListElement):document.getElementsByTagName("noscript")[0],t.isCallbackList||t.listElement?function(){rsc.inspect({type:rsc.constant.notify,notification:e.resource.CSVObjectAttributes+rsc.getObjectProperties(t.config),logtrace:t.config.trace});let i=t.isCallbackList?rsc.isEmptyOrNull(t.progenitor.textContent)?null:t.progenitor.textContent:function(){rsc.inspect({type:rsc.constant.notify,notification:e.resource.BodyContentList,logtrace:t.config.trace});const i=rsc.isEmptyOrNull(t.listElement)?null:t.listElement.textContent;return rsc.isEmptyOrNull(i)?rsc.inspect({type:rsc.constant.error,notification:e.resource.BodyContentListNotFound,logtrace:t.config.trace}):i}();return i&&rsc.inspect({type:rsc.constant.notify,notification:e.resource.ListContainerMarkup+i,logtrace:t.config.trace}),t.imageArray=i?i.trim().replace(/\r\n|\r|\n/gi,";").split(";"):null,!rsc.isEmptyOrNull(t.imageArray)}():rsc.inspect({type:rsc.constant.error,notification:e.resource.ListContainerNotFound,logtrace:t.config.trace})):rsc.inspect({type:rsc.constant.error,notification:e.resource.ProgenitorNotFound,logtrace:t.config.trace})};function n(e){const i=document.querySelectorAll("div.slideview");t.index=e<1?i.length:e>i.length?1:t.index,i.forEach((e=>{e.style.display="none"})),i[t.index-1].style.display="block",t.config.ptr&&function(){const e=document.querySelectorAll("span.ptr"),i=document.querySelector("span.active");i&&(i.className="ptr");e[t.index-1].className+=" active"}()}function r(e){document.querySelectorAll("img.slide, #"+t.progenitor.id).forEach((t=>{t.style.display=e}))}}).call(window);