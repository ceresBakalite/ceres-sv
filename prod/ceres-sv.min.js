/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{slideview};import{library as svl}from"./ceres-sv-lib.min.js";var slideview={};(function(){"use strict";this.getImage=function(t){svl.windowOpen({element:t,type:"image"})},this.getSlide=function(t,i){n(e.index=i?e.index+=t:t)};let t=new class{constructor(){this.type=function(){return type},this.attribute=function(){return attribute}}},e=new class{constructor(){this.progenitor=null,this.listElement=null,this.imageArray=[],this.attribute=function(){return attribute},this.isCallbackList=!1,this.isCssList=!1,this.index=1}};Object.seal(t),Object.seal(e),e.attribute.HTMLSlideViewElement="ceres-sv",e.attribute.HTMLImageListElement="ceres-csv",e.attribute.defaultCSS="https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css",window.customElements.get(e.attribute.HTMLSlideViewElement)||window.customElements.define(e.attribute.HTMLSlideViewElement,class extends HTMLElement{async connectedCallback(){const t=this.getAttribute("css")?this.getAttribute("css"):e.attribute.defaultCSS,l=this.getAttribute("src")?this.getAttribute("src"):null;(e.isCssList=!svl.isEmptyOrNull(t))&&await await function(t){const i=e.isCssList?t.trim().replace(/,/gi,";").replace(/;+$/g,"").replace(/[^\x00-\xFF]| /g,"").split(";"):null;for(let t=0;t<i.length;t++)svl.composeLinkElement({rel:"stylesheet",type:"text/css",href:i[t],as:"style"})}(t),(e.isCallbackList=!svl.isEmptyOrNull(l))&&this.insertAdjacentHTML("afterbegin",await(await fetch(l)).text()),i()&&(e.progenitor.style.display="none",function(){let t=function(){return svl.isEmptyOrNull(o[0])?null:o[0].trim()},i=function(){return e.attribute.sur?u+" / "+e.imageArray.length:null},l=function(){return e.attribute.sub?s():null},s=function(){return svl.isEmptyOrNull(o[1])?null:o[1].trim()};svl.clearElement(e.progenitor);const a=document.createElement("div");a.id=e.attribute.HTMLSlideViewElement+"-image-container",e.progenitor.appendChild(a),svl.composeAttribute({id:a.id,type:"class",value:"slideview-image-container"});for(let n=0;n<e.imageArray.length;n++){var o=e.imageArray[n].split(","),u=n+1;let r="slideview"+u,c={surName:"slideview-sur"+u,imgName:"slideview-img"+u,subName:"slideview-sub"+u};svl.composeElement({el:"div",id:r,classValue:"slideview fade",parent:a});let d=document.getElementById(r);e.attribute.sur&&svl.composeElement({el:"div",id:c.surName,classValue:"surtitle",parent:d,markup:i()}),svl.composeElement({el:"img",id:c.imgName,classValue:"slide",parent:d,onClickEvent:"window.getImage(this);",url:t(),accessibility:s()}),e.attribute.sub&&svl.composeElement({el:"div",id:c.subName,classValue:"subtitle",parent:d,markup:l()})}function c(t){const i=t.action?t.right:t.left;n(e.index=e.index+=i)}function d(){const t=document.createElement("div");let i=function(){return"window.getSlide("+n+")"};t.id=e.attribute.HTMLSlideViewElement+"-pointer-container",e.progenitor.appendChild(document.createElement("br")),e.progenitor.appendChild(t),svl.composeAttribute({id:t.id,type:"class",value:"slideview-pointer-container"});for(let r=0;r<e.imageArray.length;r++){var n=r+1;svl.composeElement({el:"span",id:"slideview-ptr"+n,classValue:"ptr",parent:t,onClickEvent:i()})}e.progenitor.appendChild(document.createElement("br"))}svl.composeElement({el:"a",id:"slideview-prev",classValue:"prev",parent:a,markup:"&#10094;",onClickEvent:"window.getSlide(-1, true)"}),svl.composeElement({el:"a",id:"slideview-next",classValue:"next",parent:a,markup:"&#10095;",onClickEvent:"window.getSlide(1, true)"}),e.attribute.ptr&&d(),r("none"),svl.setHorizontalSwipe({act:80,el:"div.slideview-image-container"},c,{left:-1,right:1}),svl.inspect({type:svl.constant.notify,notification:e.progenitor,logtrace:e.attribute.trace})}(),n(),setTimeout((function(){r("block")}),e.attribute.delay))}});let i=function(){return function(){e.progenitor=document.getElementById(e.attribute.HTMLSlideViewElement)?document.getElementById(e.attribute.HTMLSlideViewElement):document.getElementsByTagName(e.attribute.HTMLSlideViewElement)[0];const t=!svl.isEmptyOrNull(e.progenitor);return t&&(e.attribute.ptr=!svl.getBooleanAttribute(e.progenitor.getAttribute("ptr")),e.attribute.sur=!svl.getBooleanAttribute(e.progenitor.getAttribute("sur")),e.attribute.sub=!svl.getBooleanAttribute(e.progenitor.getAttribute("sub")),e.attribute.trace=svl.getBooleanAttribute(e.progenitor.getAttribute("trace")),e.attribute.delay=Number.isInteger(parseInt(e.progenitor.getAttribute("delay")))?parseInt(e.progenitor.getAttribute("delay")):250,Object.freeze(e.attribute)),t}()?(t.attribute.ProgenitorInnerHTML="Progenitor innerHTML ["+e.attribute.HTMLSlideViewElement+"]: "+svl.constant.newline+svl.constant.newline,t.attribute.ListContainerMarkup="Image list markup "+(e.isCallbackList?"delivered as promised by connectedCallback":"sourced from the document body")+" ["+e.attribute.HTMLSlideViewElement+"]:"+svl.constant.newline,t.attribute.BodyContentList="The "+e.attribute.HTMLSlideViewElement+" src attribute url is unavailable. Searching for the fallback noscript image list content in the document body",t.attribute.BodyContentListNotFound="Error: Unable to find the "+e.attribute.HTMLSlideViewElement+" fallback noscript image list when searching the document body",t.attribute.CSVObjectAttributes="The csv object attribute properties after initialisation ["+e.attribute.HTMLSlideViewElement+"]: ",t.attribute.ProgenitorNotFound="Error: Unable to find the "+e.attribute.HTMLSlideViewElement+" document element",t.attribute.ListContainerNotFound="Error: Unable to find either the connectedCallback "+e.attribute.HTMLSlideViewElement+" attribute source nor the fallback noscript image list container",Object.freeze(t.attribute),e.progenitor.id=svl.getUniqueElementId(e.attribute.HTMLSlideViewElement),e.listElement=document.getElementById(e.attribute.HTMLImageListElement)?document.getElementById(e.attribute.HTMLImageListElement):document.getElementsByTagName("noscript")[0],e.isCallbackList||e.listElement?function(){svl.inspect({type:svl.constant.notify,notification:t.attribute.CSVObjectAttributes+svl.getObjectProperties(e.attribute),logtrace:e.attribute.trace});let i=e.isCallbackList?svl.isEmptyOrNull(e.progenitor.textContent)?null:e.progenitor.textContent:function(){svl.inspect({type:svl.constant.notify,notification:t.attribute.BodyContentList,logtrace:e.attribute.trace});const i=svl.isEmptyOrNull(e.listElement)?null:e.listElement.textContent;return svl.isEmptyOrNull(i)?svl.inspect({type:svl.constant.error,notification:t.attribute.BodyContentListNotFound,logtrace:e.attribute.trace}):i}();return i&&svl.inspect({type:svl.constant.notify,notification:t.attribute.ListContainerMarkup+i,logtrace:e.attribute.trace}),e.imageArray=i?i.trim().replace(/\r\n|\r|\n/gi,";").split(";"):null,!svl.isEmptyOrNull(e.imageArray)}():svl.inspect({type:svl.constant.error,notification:t.attribute.ListContainerNotFound,logtrace:e.attribute.trace})):svl.inspect({type:svl.constant.error,notification:t.attribute.ProgenitorNotFound,logtrace:e.attribute.trace})};function n(t){const i=document.querySelectorAll("div.slideview");e.index=t<1?i.length:t>i.length?1:e.index,i.forEach((t=>{t.style.display="none"})),i[e.index-1].style.display="block",e.attribute.ptr&&function(){const t=document.querySelectorAll("span.ptr"),i=document.querySelector("span.active");i&&(i.className="ptr");t[e.index-1].className+=" active"}()}function r(t){document.querySelectorAll("img.slide, #"+e.progenitor.id).forEach((e=>{e.style.display=t}))}}).call(window);
