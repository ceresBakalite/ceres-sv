/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.4.0
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
window.ceres={},function(){const e={};(function(){this.srcOpen=function(e){window.open(e.element.getAttribute('src'),e.type)},this.isString=function(e){return'[object String]'==Object.prototype.toString.call(e)},this.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.composeElement=function(e,t){if(!e.type)return;const n=this.attrib.tagName.includes(e.type.trim().toUpperCase())?document.head:e.parent||document.body,i=document.createElement(e.type);Object.entries(t).forEach((([e,t])=>{i.setAttribute(e,t)})),e.markup&&i.insertAdjacentHTML('afterbegin',e.markup),n.appendChild(i)},this.setSwipe=function(e,t,n){e.act||(e.act=80),e.node.addEventListener('touchstart',(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener('touchmove',(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener('touchend',(i=>{e.end=i.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(n.action=e.start>e.end,t.call(this,n))}),{passive:!0})},this.ignore=function(e){return null===e||'undefined'==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e)},this.getBoolean=function(e){return!0===e||!1===e?atr:!(this.ignore(e)||!this.isString(e))&&this.attrib.bool.includes(e.trim().toUpperCase())},this.getUniqueId=function(e){e.name||(e.name='n'),e.range||(e.range=100);for(;document.getElementById(e.el=e.name+Math.floor(Math.random()*e.range)););return e.el},this.removeDuplcates=function(e,t){const n=JSON.stringify;let i=[...new Map(e.map((e=>[n(e),e]))).values()];return t?i.sort(((e,t)=>e-t)):i},this.parseText=function(e){if(this.ignore(e.text))return;if(e.regex||e.text.includes('</template>'))return e.text.replace(this.attrib.markup,'');let t=(new DOMParser).parseFromString(e.text,'text/html');return t.body.textContent||t.body.innerText},this.inspect=function(e){const t=function(e){let t=e.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(t),e.alert&&alert(t)},n={[this.attrib.notify]:function(){e.logtrace&&console.info(e.notification)},[this.attrib.warn]:function(){e.logtrace&&console.warn(e.notification)},[this.attrib.reference]:function(){e.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+e.reference)},[this.attrib.error]:function(){t({notification:e.notification,alert:e.logtrace})},[this.attrib.default]:function(){t({notification:'Unhandled exception'})}};n[e.type]()||n[this.attrib.default]},this.getProperties=function(e={},t=''){for(let n in e)t+=n+': '+e[n]+', ';return t.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],tagArray:['link','script','style'],isWindows:-1!=navigator.appVersion.indexOf('Win'),nonWordChars:'/()"\':,.;<>~!@#$%^&*|+=[]{}`?-â€¦',whitespace:/\s/g,markup:/(<([^>]+)>)/gi,get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((e=>e.trim().toUpperCase()))},get tagName(){return this.tagArray.map((e=>e.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(e),window.customElements.define('ceres-sv',class extends HTMLElement{async connectedCallback(){ceres.getImage=function(t){e.srcOpen({element:t,type:'image'})},ceres.getSlide=function(e){i.ext.setSlide({node:e})};const t=this,n={},i={};t.src=t.getAttribute('src'),n.defaultCSS='https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css',n.src=e.ignore(t.src)?null:t.src.trim(),n.css=t.getAttribute('css')||n.defaultCSS,n.fetchsrc=!e.ignore(n.src),n.attrib={},n.slide=1,function(){const r=t.tagName.toLocaleLowerCase(),a=new Map,s={markup:'Image list markup ',element:'The element attributes ',srcSearch:'The '+r+' src attribute url is unavailable. Searching for the fallback template element in the document body',tagSearch:'There is no \'embed\' elementId available. Looking for the first occurance of a <template> or <noscript> tagname',properties:'Error: Unable to find the '+r+' document element',list:'Error: Unable to find either the fetch '+r+' nor the fallback template elements',template:'Error: Unable to find the fallback template element when searching the document body',cache:'Warning: cache response status '};Object.freeze(s),this.node={hasContent:function(){return i.properties.get()?i.properties.list()?i.properties.content():e.inspect({type:e.attrib.error,notification:s.list}):e.inspect({type:e.attrib.error,notification:s.properties})},showContent:function(){i.ext.setShadow(),i.ext.setSlide({shadow:n.shadow}),i.ext.setView()}},this.properties={get:function(){const i=!e.ignore(t);return i&&(t.id=e.getUniqueId({name:r,range:1e3}),n.attrib.delay=Number.isInteger(parseInt(t.getAttribute('delay')))?parseInt(t.getAttribute('delay')):250,n.attrib.sur=e.getBoolean(t.getAttribute('sur')),n.attrib.sub=e.getBoolean(t.getAttribute('sub')),n.attrib.trace=e.getBoolean(t.getAttribute('trace')),n.attrib.cache=!e.getBoolean(t.getAttribute('cache')),n.attrib.fade=!e.getBoolean(t.getAttribute('fade')),n.attrib.nub=!e.getBoolean(t.getAttribute('nub')),n.attrib.zoom=function(){let n=t.getAttribute('zoom');return!!e.ignore(n)||e.getBoolean(n)}(),n.attrib.static=function(){let i=t.getAttribute('auto');if(e.ignore(i))return!0;let r=i.replace(e.attrib.whitespace,'').split(','),a=r[0];if(!Number.isInteger(parseInt(a))){if(!e.getBoolean(a))return!0;r.length>1&&r.shift()}return n.attrib.autocycle=Number.isInteger(parseInt(r[0]))?parseInt(r[0]):10,n.attrib.autopause=Number.isInteger(parseInt(r[1]))?parseInt(r[1]):3e3,n.attrib.autocancel=n.attrib.autocycle>-1,n.attrib.fade=n.attrib.autopause>400,n.attrib.nub='false',!1}(),n.attrib.embed=function(){let n=t.getAttribute('embed');return!e.ignore(n)&&n}(),Object.freeze(n.attrib),n.template=function(){if(n.fetchsrc)return'undefined';let t=n.attrib.embed?document.getElementById(n.attrib.embed):null;return e.ignore(t)&&(e.inspect({type:e.attrib.notify,notification:s.tagSearch,logtrace:n.attrib.trace}),t=document.getElementsByTagName('template')[0]||document.getElementsByTagName('noscript')[0]),e.ignore(t)?'undefined':t}()),i},list:function(){return n.fetchsrc||n.template},content:function(){return n.imageArray=null,e.inspect({type:e.attrib.notify,notification:s.element+'['+t.id+'] '+e.getProperties(n.attrib),logtrace:n.attrib.trace}),function(){let i=n.fetchsrc?function(){let n=t.textContent;return e.ignore(n)?null:n}():function(){e.inspect({type:e.attrib.notify,notification:s.srcSearch,logtrace:n.attrib.trace});let t='TEMPLATE'==n.template.tagName?n.template.content.textContent:n.template.textContent;return e.ignore(t)?e.inspect({type:e.attrib.error,notification:s.template+' ['+n.attrib.embed+']'}):t}();return e.ignore(i)||(e.inspect({type:e.attrib.notify,notification:s.markup+'['+(n.fetchsrc?t.id+' - fetch':n.attrib.embed+' - template')+']'+e.attrib.newline+i,logtrace:n.attrib.trace}),n.imageArray=i?i.trim().replace(/\r\n|\r|\n/gi,';').split(';'):null),!e.ignore(n.imageArray)}()}},this.ext={setShadow:function(){n.shade=document.querySelector('#'+t.id),e.clearElement(n.shade),n.shade.attachShadow({mode:'open'}),n.shadow=n.shade.shadowRoot,this.set.styles(),this.set.body(),this.set.images(),this.set.track(),n.shadow.append(n.bodyNode),n.attrib.static&&e.setSwipe({node:n.shadow.querySelector('div.slideview-body > div.slideview-image')},i.getSwipe,{left:-1,right:1})},setSlide:function(t){e.ignore(t.shadow)&&(t.shadow=e.ignore(t.node)?n.shadow:i.getShadow(t.node));const r=t.shadow.querySelectorAll('div.slideview-image > div.slide');n.slide=e.ignore(t.autoslide)?n.slide<1?r.length:n.slide>r.length?1:n.slide:t.autoslide;const a=n.slide-1;if(e.ignore(r[a]))return;const s=t.shadow.querySelector('div.slideview-image > div.active');s&&s.classList.replace('active','none'),r[a].classList.replace('none','active');const o=t.shadow.querySelector('div.slideview-nub > span.enabled');o&&(o.className='nub'),t.shadow.querySelectorAll('div.slideview-nub > span.nub')[a].className='nub enabled'},setView:function(){setTimeout((function(){n.attrib.static||setTimeout((function(){i.setAuto()}),n.attrib.delay),i.setState.show()}),n.attrib.delay),n.attrib.cache&&i.insertCache(),e.inspect({type:e.attrib.notify,notification:n.shadow,logtrace:n.attrib.trace})},set:{styles:function(){n.styleNode=document.createElement('style'),n.styleNode.className='slideview-style',n.shade.appendChild(n.styleNode),n.cachecss=e.removeDuplcates(n.css.trim().replace(/,/gi,';').replace(/;+$/g,'').replace(/[^\x00-\xFF]| /g,'').split(';')),n.cachecss.forEach((e=>{fetch(e).then((e=>e.text())).then((e=>{n.styleNode.insertAdjacentHTML('beforeend',e)}))})),n.shadow.append(n.styleNode)},body:function(){n.bodyNode=document.createElement('div'),n.bodyNode.className='slideview-body',n.shade.appendChild(n.bodyNode)},images:function(t=0){const i=function(){return e.ignore(s[1])?null:s[1].trim()},r=function(e='slide'){return n.attrib.zoom&&(e+=' zoom'),n.attrib.fade&&(e+=' fade'),e+' none'}(),a=document.createElement('div');a.className='slideview-image',n.bodyNode.appendChild(a);for(let o=0;o<n.imageArray.length;o++){var s=n.imageArray[o].split(',');let c=document.createElement('div');c.id='img'+ ++t,c.className=r,a.appendChild(c),n.attrib.sur&&e.composeElement({type:'div',parent:c,markup:n.attrib.sur?t+' / '+n.imageArray.length:null},{class:'surtitle'}),e.composeElement({type:'img',parent:c},{class:'slide',onclick:n.attrib.zoom?'ceres.getImage(this);':'javascript:void(0);',src:e.ignore(s[0])?null:s[0].trim(),alt:i()}),n.attrib.sub&&e.composeElement({type:'div',parent:c,markup:n.attrib.sub?i():null},{class:'subtitle'})}e.composeElement({type:'a',parent:a,markup:'&#10094;'},{class:this.setClass('left'),onclick:this.setEvent()}),e.composeElement({type:'a',parent:a,markup:'&#10095;'},{class:this.setClass('right'),onclick:this.setEvent()})},track:function(t=0){const i=document.createElement('div');i.className=this.setClass('slideview-nub'),n.bodyNode.appendChild(i);for(let r=0;r<n.imageArray.length;r++)e.composeElement({type:'span',parent:i},{id:'nub'+ ++t,class:'nub',onclick:this.setEvent()})},setClass:function(e){return!n.attrib.nub||n.attrib.static?e:e+=' none'},setEvent:function(){return'ceres.getSlide(this)'}}},this.setState={hide:function(){t.classList.add('none'),t.style.display='none'},show:function(){t.classList.remove('none'),t.style.removeProperty('display'),0===t.classList.length&&t.removeAttribute('class'),0===t.style.length&&t.removeAttribute('style')}},this.parseJSON=function(e,t=''){return'.json'!=n.src.substring(n.src.lastIndexOf('.'),n.src.length)?e:(JSON.parse(e).forEach((e=>{t+=e.url+', '+e.text+'\n'})),t)},this.insertCache=function(){if(!('caches'in window))return;n.cachesrc=n.fetchsrc?n.src.split():Array.from('');const t=r+'-cache';e.removeDuplcates(n.cachesrc.concat(n.cachecss.concat([e.attrib.metaUrl]))).forEach((i=>{fetch(i).then((r=>(r.ok||e.inspect({type:e.attrib.warn,notification:s.cache+'['+r.status+'] - '+i,logtrace:n.attrib.trace}),caches.open(t).then((e=>e.put(i,r))))))}))},this.setAuto=function(){const e=n.shadow.querySelectorAll('div.slideview-image > div.slide'),t=n.attrib.autocancel&&n.attrib.autocycle>-1?n.imageArray.length*n.attrib.autocycle:0;let r=0,a=1,s=setInterval((function(){a=a<1?e.length:a>e.length?1:a,(n.attrib.autocancel?r===t||(a++,r++,0):(a++,0))&&clearInterval(s),i.ext.setSlide({autoslide:a-1})}),n.attrib.autopause)},this.getSwipe=function(e){const t=e.action?e.right:e.left;n.slide=n.slide+=t,i.ext.setSlide({shadow:n.shadow})},this.getShadow=function(e){const t=e.getRootNode().host,i=document.querySelector('#'+t.id).shadowRoot,r=i.querySelector('div.slideview-image > div.active');return n.slide=Number.parseInt(r.id.replace('img',''),10),a.set('left',n.slide-1),a.set('right',n.slide+1),a.set('nub',Number.parseInt(e.id.replace('nub',''),10)),n.slide=a.get(e.className),i},Object.seal(i)}.call(i),i.setState.hide(),n.fetchsrc&&t.insertAdjacentHTML('afterbegin',e.parseText({text:i.parseJSON(await(await fetch(n.src)).text())})),i.node.hasContent()&&i.node.showContent()}})}();