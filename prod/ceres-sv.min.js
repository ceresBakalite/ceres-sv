/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{ceres};import{resource as rsc,caching as ca}from"./ceres-sv-lib.min.js";var ceres={};(function(){"use strict";this.getImage=function(e){rsc.windowOpen({element:e,type:"image"})},this.getSlide=function(e,n){o(t.index=n?t.index+=e:e)};const e=function(){return attribute},t=new class{constructor(){this.index=1,this.config=function(){return attribute}}};Object.seal(t),t.config.HTMLSlideViewElement="ceres-sv",t.config.HTMLScriptElementId="ceres-csv",t.config.defaultCSS="https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css",t.config.cssCache=[],t.config.srcCache=[];const n=document.querySelectorAll(t.config.HTMLSlideViewElement);rsc.isEmptyOrNull(n)||n.forEach((function(e,n){t.config.node=n,window.customElements.get(t.config.HTMLSlideViewElement)||window.customElements.define(t.config.HTMLSlideViewElement,class extends HTMLElement{async connectedCallback(){t.config.css=this.getAttribute("css")||t.config.defaultCSS,t.config.src=this.getAttribute("src")||null,(t.config.cssList=!rsc.isEmptyOrNull(t.config.css))&&await await function(e){const n=t.config.cssList?e.trim().replace(/,/gi,";").replace(/;+$/g,"").replace(/[^\x00-\xFF]| /g,"").split(";"):null,i=function(e,n){t.config.cssCache.includes(e)||rsc.composeLinkElement({rel:"stylesheet",type:"text/css",href:e,media:"screen"})};rsc.isEmptyOrNull(n)||n.forEach(i);t.config.cssCache=rsc.removeDuplcates(t.config.cssCache.concat(n))}(t.config.css),(t.config.callback=!rsc.isEmptyOrNull(t.config.src))&&this.insertAdjacentHTML("afterbegin",await(await fetch(t.config.src)).text()),t.config.srcCache=rsc.removeDuplcates(t.config.srcCache.concat(t.config.src)),c()&&(t.config.progenitor.style.display="none",function(){const e=function(){return rsc.isEmptyOrNull(s[0])?null:s[0].trim()},n=function(){return t.config.sur?l+" / "+t.config.imageArray.length:null},i=function(){return t.config.sub?c():null},c=function(){return rsc.isEmptyOrNull(s[1])?null:s[1].trim()};rsc.clearElement(t.config.progenitor);const r=document.createElement("div");r.id=t.config.HTMLSlideViewElement+"-image-container",t.config.progenitor.appendChild(r),rsc.composeAttribute({id:r.id,type:"class",value:"slideview-image-container"});for(let o=0;o<t.config.imageArray.length;o++){var s=t.config.imageArray[o].split(","),l=o+1;let a="slideview"+l,g={surName:"slideview-sur"+l,imgName:"slideview-img"+l,subName:"slideview-sub"+l};rsc.composeElement({el:"div",id:a,classValue:"slideview fade",parent:r});let u=document.getElementById(a);t.config.sur&&rsc.composeElement({el:"div",id:g.surName,classValue:"surtitle",parent:u,markup:n()}),rsc.composeElement({el:"img",id:g.imgName,classValue:"slide",parent:u,onClickEvent:"window.getImage(this);",url:e(),accessibility:c()}),t.config.sub&&rsc.composeElement({el:"div",id:g.subName,classValue:"subtitle",parent:u,markup:i()})}function a(e){const n=e.action?e.right:e.left;o(t.index=t.index+=n)}function g(){const e=document.createElement("div"),n=function(){return"window.getSlide("+i+")"};e.id=t.config.HTMLSlideViewElement+"-pointer-container",t.config.progenitor.appendChild(document.createElement("br")),t.config.progenitor.appendChild(e),rsc.composeAttribute({id:e.id,type:"class",value:"slideview-pointer-container"});for(let c=0;c<t.config.imageArray.length;c++){var i=c+1;rsc.composeElement({el:"span",id:"slideview-ptr"+i,classValue:"ptr",parent:e,onClickEvent:n()})}t.config.progenitor.appendChild(document.createElement("br"))}rsc.composeElement({el:"a",id:"slideview-prev",classValue:"prev",parent:r,markup:"&#10094;",onClickEvent:"window.getSlide(-1, true)"}),rsc.composeElement({el:"a",id:"slideview-next",classValue:"next",parent:r,markup:"&#10095;",onClickEvent:"window.getSlide(1, true)"}),t.config.ptr&&g(),rsc.setHorizontalSwipe({act:80,el:"div.slideview-image-container"},a,{left:-1,right:1}),rsc.inspect({type:rsc.constant.notify,notification:t.config.progenitor,logtrace:t.config.trace})}(),o(),setTimeout((function(){!function(e){document.querySelectorAll("img.slide, #"+t.config.progenitor.id).forEach((t=>{t.style.display=e}))}("block")}),t.config.delay),t.config.cache&&function(){const e=t.config.HTMLSlideViewElement+"-cache",n=[import.meta.url,rsc.constant.libraryName];ca.installCache(e,rsc.removeDuplcates(t.config.cssCache.concat(t.config.srcCache.concat(n))))}())}})}));const i=function(){t.config.imageArray=null,rsc.inspect({type:rsc.constant.notify,notification:e.CSVObjectAttributes+rsc.getObjectProperties(t.config),logtrace:t.config.trace});return function(){let n=t.config.callback?rsc.isEmptyOrNull(t.config.progenitor.textContent)?null:t.config.progenitor.textContent:function(){rsc.inspect({type:rsc.constant.notify,notification:e.BodyContentList,logtrace:t.config.trace});const n=rsc.isEmptyOrNull(t.config.HTMLScriptElement)?null:t.config.HTMLScriptElement.textContent;return rsc.isEmptyOrNull(n)?rsc.inspect({type:rsc.constant.error,notification:e.BodyContentListNotFound,logtrace:t.config.trace}):n}();return rsc.isEmptyOrNull(n)||(rsc.inspect({type:rsc.constant.notify,notification:e.ListContainerMarkup+n,logtrace:t.config.trace}),t.config.imageArray=n?n.trim().replace(/\r\n|\r|\n/gi,";").split(";"):null),Object.freeze(t.config),!rsc.isEmptyOrNull(t.config.imageArray)}()},c=function(){return function(){t.config.progenitor=document.getElementById(t.config.HTMLSlideViewElement)||document.getElementsByTagName(t.config.HTMLSlideViewElement)[t.config.node];const e=!rsc.isEmptyOrNull(t.config.progenitor);return e&&(t.config.progenitor.id=rsc.getUniqueElementId(t.config.HTMLSlideViewElement),t.config.HTMLScriptElement=document.getElementById(t.config.HTMLScriptElementId)||document.getElementsByTagName("noscript")[t.config.node],t.config.ptr=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("ptr")),t.config.sur=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("sur")),t.config.sub=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("sub")),t.config.cache=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("cache")),t.config.trace=rsc.getBooleanAttribute(t.config.progenitor.getAttribute("trace")),t.config.delay=Number.isInteger(parseInt(t.config.progenitor.getAttribute("delay")))?parseInt(t.config.progenitor.getAttribute("delay")):250),e}()?(e.ListContainerMarkup="Image list markup "+(t.config.callback?"delivered as promised by connectedCallback":"sourced from the document body")+" ["+t.config.HTMLSlideViewElement+"]:"+rsc.constant.newline,e.BodyContentList="The "+t.config.HTMLSlideViewElement+" src attribute url is unavailable. Searching for the fallback noscript image list content in the document body",e.BodyContentListNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" fallback noscript image list when searching the document body",e.CSVObjectAttributes="The csv object attribute properties after initialisation ["+t.config.HTMLSlideViewElement+"]: ",e.ProgenitorNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" document element",e.ListContainerNotFound="Error: Unable to find either the connectedCallback "+t.config.HTMLSlideViewElement+" attribute source nor the fallback noscript image list container",Object.freeze(e),t.config.callback||t.config.HTMLScriptElement?i():rsc.inspect({type:rsc.constant.error,notification:e.ListContainerNotFound,logtrace:t.config.trace})):rsc.inspect({type:rsc.constant.error,notification:e.ProgenitorNotFound,logtrace:t.config.trace})};function o(e){const n=document.querySelectorAll("div.slideview");t.index=e<1?n.length:e>n.length?1:t.index,n.forEach((e=>{e.style.display="none"})),n[t.index-1].style.display="block",t.config.ptr&&function(){const e=document.querySelectorAll("span.ptr"),n=document.querySelector("span.active");n&&(n.className="ptr"),e[t.index-1].className+=" active"}()}}).call(window);