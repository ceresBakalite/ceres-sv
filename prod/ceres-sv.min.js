/**
 * @license
 * ceres-sv v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/ceres-sv/repos/csvjs/ceres-sv.js
 *
 * ceresBakalite/ceres-sv is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{ceres};import{resource as rsc}from"./ceres-sv-lib.min.js";var ceres={};(function(){"use strict";this.getImage=function(e){rsc.windowOpen({element:e,type:"image"})},this.getSlide=function(e,n){i(t.index=n?t.index+=e:e)};let e=new class{constructor(){this.type=function(){return type},this.resource=function(){return attribute}}};Object.seal(e);let t=new class{constructor(){this.index=1,this.config=function(){return attribute}}};Object.seal(t),t.config.HTMLSlideViewElement="ceres-sv",t.config.HTMLImageListElement="ceres-csv",t.config.defaultCSS="https://ceresbakalite.github.io/ceres-sv/prod/ceres-sv.min.css",window.customElements.get(t.config.HTMLSlideViewElement)||window.customElements.define(t.config.HTMLSlideViewElement,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute("css")?this.getAttribute("css"):t.config.defaultCSS,o=this.getAttribute("src")?this.getAttribute("src"):null;(t.config.isCssList=!rsc.isEmptyOrNull(e))&&await await function(e){const n=t.config.isCssList?e.trim().replace(/,/gi,";").replace(/;+$/g,"").replace(/[^\x00-\xFF]| /g,"").split(";"):null;for(let e=0;e<n.length;e++)rsc.composeLinkElement({rel:"stylesheet",type:"text/css",href:n[e],as:"style"})}(e),(t.config.isCallbackList=!rsc.isEmptyOrNull(o))&&this.insertAdjacentHTML("afterbegin",await(await fetch(o)).text()),n()&&(t.config.progenitor.style.display="none",function(){let e=function(){return rsc.isEmptyOrNull(l[0])?null:l[0].trim()},n=function(){return t.config.sur?a+" / "+t.config.imageArray.length:null},o=function(){return t.config.sub?c():null},c=function(){return rsc.isEmptyOrNull(l[1])?null:l[1].trim()};rsc.clearElement(t.config.progenitor);const s=document.createElement("div");s.id=t.config.HTMLSlideViewElement+"-image-container",t.config.progenitor.appendChild(s),rsc.composeAttribute({id:s.id,type:"class",value:"slideview-image-container"});for(let i=0;i<t.config.imageArray.length;i++){var l=t.config.imageArray[i].split(","),a=i+1;let r="slideview"+a,g={surName:"slideview-sur"+a,imgName:"slideview-img"+a,subName:"slideview-sub"+a};rsc.composeElement({el:"div",id:r,classValue:"slideview fade",parent:s});let u=document.getElementById(r);t.config.sur&&rsc.composeElement({el:"div",id:g.surName,classValue:"surtitle",parent:u,markup:n()}),rsc.composeElement({el:"img",id:g.imgName,classValue:"slide",parent:u,onClickEvent:"window.getImage(this);",url:e(),accessibility:c()}),t.config.sub&&rsc.composeElement({el:"div",id:g.subName,classValue:"subtitle",parent:u,markup:o()})}function g(e){const n=e.action?e.right:e.left;i(t.index=t.index+=n)}function u(){const e=document.createElement("div");let n=function(){return"window.getSlide("+i+")"};e.id=t.config.HTMLSlideViewElement+"-pointer-container",t.config.progenitor.appendChild(document.createElement("br")),t.config.progenitor.appendChild(e),rsc.composeAttribute({id:e.id,type:"class",value:"slideview-pointer-container"});for(let r=0;r<t.config.imageArray.length;r++){var i=r+1;rsc.composeElement({el:"span",id:"slideview-ptr"+i,classValue:"ptr",parent:e,onClickEvent:n()})}t.config.progenitor.appendChild(document.createElement("br"))}rsc.composeElement({el:"a",id:"slideview-prev",classValue:"prev",parent:s,markup:"&#10094;",onClickEvent:"window.getSlide(-1, true)"}),rsc.composeElement({el:"a",id:"slideview-next",classValue:"next",parent:s,markup:"&#10095;",onClickEvent:"window.getSlide(1, true)"}),t.config.ptr&&u(),r("none"),rsc.setHorizontalSwipe({act:80,el:"div.slideview-image-container"},g,{left:-1,right:1}),rsc.inspect({type:rsc.constant.notify,notification:t.config.progenitor,logtrace:t.config.trace})}(),i(),setTimeout((function(){r("block")}),t.config.delay))}});let n=function(){return function(){t.config.progenitor=document.getElementById(t.config.HTMLSlideViewElement)?document.getElementById(t.config.HTMLSlideViewElement):document.getElementsByTagName(t.config.HTMLSlideViewElement)[0];const e=!rsc.isEmptyOrNull(t.config.progenitor);return e&&(t.config.ptr=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("ptr")),t.config.sur=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("sur")),t.config.sub=!rsc.getBooleanAttribute(t.config.progenitor.getAttribute("sub")),t.config.trace=rsc.getBooleanAttribute(t.config.progenitor.getAttribute("trace")),t.config.delay=Number.isInteger(parseInt(t.config.progenitor.getAttribute("delay")))?parseInt(t.config.progenitor.getAttribute("delay")):250),e}()?(e.resource.ProgenitorInnerHTML="Progenitor innerHTML ["+t.config.HTMLSlideViewElement+"]: "+rsc.constant.newline+rsc.constant.newline,e.resource.ListContainerMarkup="Image list markup "+(t.config.isCallbackList?"delivered as promised by connectedCallback":"sourced from the document body")+" ["+t.config.HTMLSlideViewElement+"]:"+rsc.constant.newline,e.resource.BodyContentList="The "+t.config.HTMLSlideViewElement+" src attribute url is unavailable. Searching for the fallback noscript image list content in the document body",e.resource.BodyContentListNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" fallback noscript image list when searching the document body",e.resource.CSVObjectAttributes="The csv object attribute properties after initialisation ["+t.config.HTMLSlideViewElement+"]: ",e.resource.ProgenitorNotFound="Error: Unable to find the "+t.config.HTMLSlideViewElement+" document element",e.resource.ListContainerNotFound="Error: Unable to find either the connectedCallback "+t.config.HTMLSlideViewElement+" attribute source nor the fallback noscript image list container",t.config.progenitor.id=rsc.getUniqueElementId(t.config.HTMLSlideViewElement),t.config.listElement=document.getElementById(t.config.HTMLImageListElement)?document.getElementById(t.config.HTMLImageListElement):document.getElementsByTagName("noscript")[0],t.config.isCallbackList||t.config.listElement?function(){rsc.inspect({type:rsc.constant.notify,notification:e.resource.CSVObjectAttributes+rsc.getObjectProperties(t.config),logtrace:t.config.trace});let n=t.config.isCallbackList?rsc.isEmptyOrNull(t.config.progenitor.textContent)?null:t.config.progenitor.textContent:function(){rsc.inspect({type:rsc.constant.notify,notification:e.resource.BodyContentList,logtrace:t.config.trace});const n=rsc.isEmptyOrNull(t.config.listElement)?null:t.config.listElement.textContent;return rsc.isEmptyOrNull(n)?rsc.inspect({type:rsc.constant.error,notification:e.resource.BodyContentListNotFound,logtrace:t.config.trace}):n}();return n&&rsc.inspect({type:rsc.constant.notify,notification:e.resource.ListContainerMarkup+n,logtrace:t.config.trace}),t.config.imageArray=n?n.trim().replace(/\r\n|\r|\n/gi,";").split(";"):null,Object.freeze(e.resource),Object.freeze(t.config),!rsc.isEmptyOrNull(t.config.imageArray)}():rsc.inspect({type:rsc.constant.error,notification:e.resource.ListContainerNotFound,logtrace:t.config.trace})):rsc.inspect({type:rsc.constant.error,notification:e.resource.ProgenitorNotFound,logtrace:t.config.trace})};function i(e){const n=document.querySelectorAll("div.slideview");t.index=e<1?n.length:e>n.length?1:t.index,n.forEach((e=>{e.style.display="none"})),n[t.index-1].style.display="block",t.config.ptr&&function(){const e=document.querySelectorAll("span.ptr"),n=document.querySelector("span.active");n&&(n.className="ptr");e[t.index-1].className+=" active"}()}function r(e){document.querySelectorAll("img.slide, #"+t.config.progenitor.id).forEach((t=>{t.style.display=e}))}}).call(window);